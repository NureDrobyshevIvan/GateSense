2025-11-17 13:13:48.086 +02:00 [INF] Executed DbCommand (12,790ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [GateSenseDB];
2025-11-17 13:13:51.840 +02:00 [INF] Executed DbCommand (3,738ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [GateSenseDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-17 13:13:51.985 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:13:51.990 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-17 13:13:52.767 +02:00 [INF] Executed DbCommand (774ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-17 13:13:53.816 +02:00 [INF] Executed DbCommand (807ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-17 13:13:53.841 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:13:53.844 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-17 13:13:55.231 +02:00 [INF] Executed DbCommand (1,362ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-17 13:13:55.269 +02:00 [INF] Applying migration '20251117111226_Initial'.
2025-11-17 13:13:55.730 +02:00 [INF] Executed DbCommand (302ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-17 13:13:55.754 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-11-17 13:13:55.840 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:55.865 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.123 +02:00 [INF] Executed DbCommand (255ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.160 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.176 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.269 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Garages] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [Address] nvarchar(256) NULL,
    [TimeZone] nvarchar(64) NULL,
    [OwnerId] int NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Garages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Garages_AspNetUsers_OwnerId] FOREIGN KEY ([OwnerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2025-11-17 13:13:56.399 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(450) NOT NULL,
    [UserId] int NOT NULL,
    [ExpiresOnUtc] datetime2 NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL,
    [LastModifiedOn] datetimeoffset NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.459 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccessKeys] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [IssuedByUserId] int NOT NULL,
    [KeyType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [Token] nvarchar(256) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_AccessKeys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccessKeys_AspNetUsers_IssuedByUserId] FOREIGN KEY ([IssuedByUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessKeys_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.466 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [SerialNumber] nvarchar(64) NOT NULL,
    [DeviceType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [FirmwareVersion] nvarchar(32) NULL,
    [LastHeartbeatOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Devices] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Devices_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.470 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GarageAccesses] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [UserId] int NOT NULL,
    [AccessLevel] nvarchar(32) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GarageAccesses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GarageAccesses_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_GarageAccesses_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.921 +02:00 [ERR] Failed executing DbCommand (449ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GateEvents] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [InitiatorUserId] int NULL,
    [AccessKeyId] int NULL,
    [TriggerSource] nvarchar(32) NOT NULL,
    [Action] nvarchar(16) NOT NULL,
    [Result] nvarchar(16) NOT NULL,
    [FailureReason] nvarchar(256) NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GateEvents] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:18.417 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:15:18.471 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-17 13:15:18.631 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-17 13:15:18.832 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-17 13:15:18.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:15:18.849 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-17 13:15:18.865 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-17 13:15:18.887 +02:00 [INF] Applying migration '20251117111226_Initial'.
2025-11-17 13:15:19.082 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-17 13:15:19.091 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-11-17 13:15:19.132 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.152 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.160 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.172 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.182 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.197 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Garages] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [Address] nvarchar(256) NULL,
    [TimeZone] nvarchar(64) NULL,
    [OwnerId] int NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Garages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Garages_AspNetUsers_OwnerId] FOREIGN KEY ([OwnerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2025-11-17 13:15:19.209 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(450) NOT NULL,
    [UserId] int NOT NULL,
    [ExpiresOnUtc] datetime2 NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL,
    [LastModifiedOn] datetimeoffset NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.346 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccessKeys] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [IssuedByUserId] int NOT NULL,
    [KeyType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [Token] nvarchar(256) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_AccessKeys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccessKeys_AspNetUsers_IssuedByUserId] FOREIGN KEY ([IssuedByUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessKeys_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.396 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [SerialNumber] nvarchar(64) NOT NULL,
    [DeviceType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [FirmwareVersion] nvarchar(32) NULL,
    [LastHeartbeatOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Devices] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Devices_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.467 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GarageAccesses] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [UserId] int NOT NULL,
    [AccessLevel] nvarchar(32) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GarageAccesses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GarageAccesses_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_GarageAccesses_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.514 +02:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GateEvents] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [InitiatorUserId] int NULL,
    [AccessKeyId] int NULL,
    [TriggerSource] nvarchar(32) NOT NULL,
    [Action] nvarchar(16) NOT NULL,
    [Result] nvarchar(16) NOT NULL,
    [FailureReason] nvarchar(256) NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GateEvents] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:03.811 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:16:04.541 +02:00 [INF] Executed DbCommand (634ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [GateSenseDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-17 13:16:05.609 +02:00 [INF] Executed DbCommand (1,065ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [GateSenseDB];
2025-11-17 13:16:26.122 +02:00 [INF] Executed DbCommand (2,591ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [GateSenseDB];
2025-11-17 13:16:26.723 +02:00 [INF] Executed DbCommand (557ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [GateSenseDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-17 13:16:26.754 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:16:26.761 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-17 13:16:27.027 +02:00 [INF] Executed DbCommand (261ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-17 13:16:27.254 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-17 13:16:27.272 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:16:27.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-17 13:16:27.306 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-17 13:16:27.328 +02:00 [INF] Applying migration '20251117111226_Initial'.
2025-11-17 13:16:27.412 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-17 13:16:27.420 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-11-17 13:16:27.431 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.442 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.455 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.463 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.469 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.479 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Garages] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [Address] nvarchar(256) NULL,
    [TimeZone] nvarchar(64) NULL,
    [OwnerId] int NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Garages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Garages_AspNetUsers_OwnerId] FOREIGN KEY ([OwnerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2025-11-17 13:16:27.486 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(450) NOT NULL,
    [UserId] int NOT NULL,
    [ExpiresOnUtc] datetime2 NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL,
    [LastModifiedOn] datetimeoffset NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.495 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccessKeys] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [IssuedByUserId] int NOT NULL,
    [KeyType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [Token] nvarchar(256) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_AccessKeys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccessKeys_AspNetUsers_IssuedByUserId] FOREIGN KEY ([IssuedByUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessKeys_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.503 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [SerialNumber] nvarchar(64) NOT NULL,
    [DeviceType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [FirmwareVersion] nvarchar(32) NULL,
    [LastHeartbeatOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Devices] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Devices_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.510 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GarageAccesses] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [UserId] int NOT NULL,
    [AccessLevel] nvarchar(32) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GarageAccesses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GarageAccesses_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_GarageAccesses_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.522 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GateEvents] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [InitiatorUserId] int NULL,
    [AccessKeyId] int NULL,
    [TriggerSource] nvarchar(32) NOT NULL,
    [Action] nvarchar(16) NOT NULL,
    [Result] nvarchar(16) NOT NULL,
    [FailureReason] nvarchar(256) NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GateEvents] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_GateEvents_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.563 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SensorReadings] (
    [Id] int NOT NULL IDENTITY,
    [DeviceId] int NOT NULL,
    [SensorType] nvarchar(32) NOT NULL,
    [Value] decimal(10,2) NOT NULL,
    [Unit] nvarchar(16) NOT NULL,
    [RecordedOn] datetimeoffset NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_SensorReadings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SensorReadings_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.731 +02:00 [INF] Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AccessKeys_GarageId] ON [AccessKeys] ([GarageId]);
2025-11-17 13:16:27.745 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AccessKeys_IssuedByUserId] ON [AccessKeys] ([IssuedByUserId]);
2025-11-17 13:16:27.754 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccessKeys_Token] ON [AccessKeys] ([Token]);
2025-11-17 13:16:27.758 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-11-17 13:16:27.818 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-11-17 13:16:27.824 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-11-17 13:16:27.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-11-17 13:16:27.833 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-11-17 13:16:27.837 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2025-11-17 13:16:27.843 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-11-17 13:16:27.849 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Devices_GarageId] ON [Devices] ([GarageId]);
2025-11-17 13:16:27.890 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Devices_SerialNumber] ON [Devices] ([SerialNumber]);
2025-11-17 13:16:27.897 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_GarageAccesses_GarageId_UserId] ON [GarageAccesses] ([GarageId], [UserId]);
2025-11-17 13:16:27.905 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GarageAccesses_UserId] ON [GarageAccesses] ([UserId]);
2025-11-17 13:16:27.909 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Garages_OwnerId] ON [Garages] ([OwnerId]);
2025-11-17 13:16:27.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GateEvents_AccessKeyId] ON [GateEvents] ([AccessKeyId]);
2025-11-17 13:16:27.916 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GateEvents_GarageId] ON [GateEvents] ([GarageId]);
2025-11-17 13:16:27.923 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GateEvents_InitiatorUserId] ON [GateEvents] ([InitiatorUserId]);
2025-11-17 13:16:27.928 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_RefreshTokens_Token] ON [RefreshTokens] ([Token]);
2025-11-17 13:16:27.934 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2025-11-17 13:16:27.938 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SensorReadings_DeviceId] ON [SensorReadings] ([DeviceId]);
2025-11-17 13:16:27.988 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117111226_Initial', N'9.0.9');
2025-11-17 13:16:27.992 +02:00 [INF] Applying migration '20251117111454_UpdateGateEventCascadeRules'.
2025-11-17 13:16:28.297 +02:00 [INF] Executed DbCommand (255ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] DROP CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId];
2025-11-17 13:16:28.304 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] DROP CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId];
2025-11-17 13:16:28.346 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] ADD CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE NO ACTION;
2025-11-17 13:16:28.353 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] ADD CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;
2025-11-17 13:16:28.365 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117111454_UpdateGateEventCascadeRules', N'9.0.9');
2025-11-17 13:16:28.447 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:45:45.608 +02:00 [INF] Executed DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:45:45.891 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 07:45:47.129 +02:00 [INF] Executed DbCommand (1,213ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 07:45:47.656 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 07:45:47.749 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:45:47.769 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 07:45:47.998 +02:00 [INF] Executed DbCommand (195ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 07:45:48.059 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-18 07:45:48.214 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:45:50.253 +02:00 [INF] Executed DbCommand (532ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:50.327 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:50.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.256 +02:00 [INF] Executed DbCommand (2,309ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-18 07:45:53.570 +02:00 [INF] Executed DbCommand (197ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.588 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.605 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.635 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-18 07:45:53.979 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-18 07:45:54.827 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-18 07:45:54.843 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 07:45:54.851 +02:00 [INF] Hosting environment: Development
2025-11-18 07:45:54.857 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-18 07:46:26.862 +02:00 [INF] Application is shutting down...
2025-11-18 07:48:20.499 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:48:20.586 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 07:48:21.143 +02:00 [INF] Executed DbCommand (546ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 07:48:21.348 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 07:48:21.403 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:48:21.416 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 07:48:21.582 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 07:48:21.620 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-18 07:48:21.707 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:48:22.246 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:48:22.362 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:48:22.563 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-18 07:48:22.690 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-18 07:48:22.699 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 07:48:22.701 +02:00 [INF] Hosting environment: Development
2025-11-18 07:48:22.703 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-18 07:48:30.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/ - null null
2025-11-18 07:48:30.654 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-18 07:48:37.353 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/ - 404 0 null 6857.2071ms
2025-11-18 07:48:37.394 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5148/, Response status code: 404
2025-11-18 07:48:44.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-18 07:48:45.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 847.7652ms
2025-11-18 07:48:45.362 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-11-18 07:48:45.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-11-18 07:48:45.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-11-18 07:48:45.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-11-18 07:48:45.372 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-11-18 07:48:45.401 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 28.955ms
2025-11-18 07:48:45.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 59.2462ms
2025-11-18 07:48:45.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 122.5934ms
2025-11-18 07:48:45.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 143.7886ms
2025-11-18 07:48:45.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 201.2305ms
2025-11-18 07:48:46.473 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-18 07:48:47.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 720.0438ms
2025-11-18 07:48:48.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-18 07:48:48.195 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 11.3234ms
2025-11-18 07:48:49.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-18 07:48:49.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-11-18 07:48:49.072 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 11.469ms
2025-11-18 07:48:49.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.8871ms
2025-11-18 07:50:51.396 +02:00 [INF] Application is shutting down...
2025-11-18 07:53:06.824 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:53:06.867 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 07:53:07.301 +02:00 [INF] Executed DbCommand (428ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 07:53:07.464 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 07:53:07.491 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:53:07.501 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 07:53:07.541 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 07:53:07.557 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-18 07:53:07.634 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:53:07.953 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:53:08.020 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:53:08.122 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-18 07:53:08.219 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-18 07:53:08.230 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 07:53:08.236 +02:00 [INF] Hosting environment: Development
2025-11-18 07:53:08.243 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 10:47:21.237 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:47:21.333 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-26 10:47:22.785 +02:00 [INF] Executed DbCommand (1,446ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-26 10:47:23.546 +02:00 [INF] Executed DbCommand (380ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-26 10:47:23.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:47:23.568 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-26 10:47:23.831 +02:00 [INF] Executed DbCommand (257ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-26 10:47:23.845 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-26 10:47:24.336 +02:00 [INF] Executed DbCommand (489ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-26 10:47:26.015 +02:00 [INF] Executed DbCommand (1,258ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:47:26.373 +02:00 [INF] Executed DbCommand (275ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:47:26.459 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 10:47:26.611 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-26 10:47:26.617 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 10:47:26.618 +02:00 [INF] Hosting environment: Development
2025-11-26 10:47:26.619 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 10:47:37.102 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/ - null null
2025-11-26 10:47:37.164 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-26 10:47:38.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/ - 404 0 null 1139.9191ms
2025-11-26 10:47:38.244 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5148/, Response status code: 404
2025-11-26 10:47:42.953 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-26 10:47:43.180 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 226.645ms
2025-11-26 10:47:43.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-11-26 10:47:43.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-11-26 10:47:43.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-11-26 10:47:43.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-11-26 10:47:43.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-11-26 10:47:43.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 4.8012ms
2025-11-26 10:47:43.258 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 16.0652ms
2025-11-26 10:47:43.258 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 12.8196ms
2025-11-26 10:47:43.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 39.509ms
2025-11-26 10:47:43.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 70.2853ms
2025-11-26 10:47:43.645 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-26 10:47:43.660 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-11-26 10:47:43.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 2.4904ms
2025-11-26 10:47:43.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.3286ms
2025-11-26 10:48:03.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-11-26 10:48:03.864 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-26 10:48:03.871 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-26 10:48:03.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 0 null 17.1634ms
2025-11-26 10:54:47.756 +02:00 [INF] Application is shutting down...
2025-11-26 10:54:53.867 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:54:53.905 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-26 10:54:54.171 +02:00 [INF] Executed DbCommand (261ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-26 10:54:54.292 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-26 10:54:54.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:54:54.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-26 10:54:54.339 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-26 10:54:54.352 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-26 10:54:54.416 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-26 10:54:54.882 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:54:54.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:54:55.009 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 10:54:55.069 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-26 10:54:55.073 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 10:54:55.074 +02:00 [INF] Hosting environment: Development
2025-11-26 10:54:55.074 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 10:56:43.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/423/devices - null null
2025-11-26 10:56:43.599 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-26 10:56:43.661 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-26 10:56:43.669 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-26 10:56:43.675 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/423/devices - 401 0 null 110.8159ms
2025-11-26 10:59:40.798 +02:00 [INF] Application is shutting down...
2025-11-26 10:59:45.161 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:59:45.198 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-26 10:59:45.415 +02:00 [INF] Executed DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-26 10:59:45.547 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-26 10:59:45.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:59:45.569 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-26 10:59:45.593 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-26 10:59:45.607 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-26 10:59:45.671 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-26 10:59:46.125 +02:00 [INF] Executed DbCommand (175ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:59:46.178 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:59:46.250 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 10:59:46.308 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-26 10:59:46.312 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 10:59:46.313 +02:00 [INF] Hosting environment: Development
2025-11-26 10:59:46.314 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 11:09:48.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/423/devices - null null
2025-11-26 11:09:48.690 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-26 11:09:49.761 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-26 11:09:49.769 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-26 11:09:49.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/423/devices - 401 0 null 1253.1263ms
2025-11-26 11:22:30.355 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 129
2025-11-26 11:22:30.360 +02:00 [INF] CORS policy execution failed.
2025-11-26 11:22:30.374 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-11-26 11:22:30.389 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-11-26 11:22:30.435 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-11-26 11:22:30.697 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) - Validation state: "Valid"
2025-11-26 11:22:31.372 +02:00 [INF] Executed DbCommand (270ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:22:31.421 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:22:32.113 +02:00 [INF] Executed DbCommand (353ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-11-26 11:22:32.224 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-26 11:22:32.344 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-11-26 11:22:32.350 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-26 11:22:32.614 +02:00 [INF] Executed DbCommand (246ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:22:32.659 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:22:33.259 +02:00 [INF] Executed DbCommand (573ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-11-26 11:22:33.336 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.StatusCodeResult in 2631.3585ms.
2025-11-26 11:22:33.345 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-11-26 11:22:33.352 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 2909.0818ms
2025-11-26 11:22:33.354 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-11-26 11:22:33.370 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 3015.3016ms
2025-11-26 11:23:03.092 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 51
2025-11-26 11:23:03.095 +02:00 [INF] CORS policy execution failed.
2025-11-26 11:23:03.096 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-11-26 11:23:03.099 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:03.120 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-11-26 11:23:03.147 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) - Validation state: "Valid"
2025-11-26 11:23:03.535 +02:00 [INF] Executed DbCommand (327ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:23:03.544 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:23:03.599 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 450.3238ms.
2025-11-26 11:23:03.614 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-11-26 11:23:03.814 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 688.6458ms
2025-11-26 11:23:03.815 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:03.817 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 400 null application/problem+json; charset=utf-8 724.6499ms
2025-11-26 11:23:12.358 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-11-26 11:23:12.360 +02:00 [INF] CORS policy execution failed.
2025-11-26 11:23:12.361 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-11-26 11:23:12.362 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:12.363 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-11-26 11:23:12.382 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) - Validation state: "Valid"
2025-11-26 11:23:12.385 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:23:12.387 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:23:12.390 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.421ms.
2025-11-26 11:23:12.392 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-11-26 11:23:12.396 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 31.4592ms
2025-11-26 11:23:12.398 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:12.399 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 404 null application/problem+json; charset=utf-8 41.2327ms
2025-11-26 11:23:30.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-26 11:23:30.646 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 178.3833ms
2025-11-26 11:23:31.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-26 11:23:31.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 369.1441ms
2025-11-26 18:53:55.385 +02:00 [INF] Application is shutting down...
