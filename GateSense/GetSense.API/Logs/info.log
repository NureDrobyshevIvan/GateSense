2025-11-17 13:13:48.086 +02:00 [INF] Executed DbCommand (12,790ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [GateSenseDB];
2025-11-17 13:13:51.840 +02:00 [INF] Executed DbCommand (3,738ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [GateSenseDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-17 13:13:51.985 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:13:51.990 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-17 13:13:52.767 +02:00 [INF] Executed DbCommand (774ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-17 13:13:53.816 +02:00 [INF] Executed DbCommand (807ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-17 13:13:53.841 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:13:53.844 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-17 13:13:55.231 +02:00 [INF] Executed DbCommand (1,362ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-17 13:13:55.269 +02:00 [INF] Applying migration '20251117111226_Initial'.
2025-11-17 13:13:55.730 +02:00 [INF] Executed DbCommand (302ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-17 13:13:55.754 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-11-17 13:13:55.840 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:55.865 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.123 +02:00 [INF] Executed DbCommand (255ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.160 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.176 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.269 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Garages] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [Address] nvarchar(256) NULL,
    [TimeZone] nvarchar(64) NULL,
    [OwnerId] int NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Garages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Garages_AspNetUsers_OwnerId] FOREIGN KEY ([OwnerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2025-11-17 13:13:56.399 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(450) NOT NULL,
    [UserId] int NOT NULL,
    [ExpiresOnUtc] datetime2 NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL,
    [LastModifiedOn] datetimeoffset NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.459 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccessKeys] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [IssuedByUserId] int NOT NULL,
    [KeyType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [Token] nvarchar(256) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_AccessKeys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccessKeys_AspNetUsers_IssuedByUserId] FOREIGN KEY ([IssuedByUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessKeys_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.466 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [SerialNumber] nvarchar(64) NOT NULL,
    [DeviceType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [FirmwareVersion] nvarchar(32) NULL,
    [LastHeartbeatOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Devices] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Devices_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.470 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GarageAccesses] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [UserId] int NOT NULL,
    [AccessLevel] nvarchar(32) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GarageAccesses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GarageAccesses_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_GarageAccesses_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:13:56.921 +02:00 [ERR] Failed executing DbCommand (449ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GateEvents] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [InitiatorUserId] int NULL,
    [AccessKeyId] int NULL,
    [TriggerSource] nvarchar(32) NOT NULL,
    [Action] nvarchar(16) NOT NULL,
    [Result] nvarchar(16) NOT NULL,
    [FailureReason] nvarchar(256) NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GateEvents] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:18.417 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:15:18.471 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-17 13:15:18.631 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-17 13:15:18.832 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-17 13:15:18.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:15:18.849 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-17 13:15:18.865 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-17 13:15:18.887 +02:00 [INF] Applying migration '20251117111226_Initial'.
2025-11-17 13:15:19.082 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-17 13:15:19.091 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-11-17 13:15:19.132 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.152 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.160 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.172 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.182 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.197 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Garages] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [Address] nvarchar(256) NULL,
    [TimeZone] nvarchar(64) NULL,
    [OwnerId] int NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Garages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Garages_AspNetUsers_OwnerId] FOREIGN KEY ([OwnerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2025-11-17 13:15:19.209 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(450) NOT NULL,
    [UserId] int NOT NULL,
    [ExpiresOnUtc] datetime2 NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL,
    [LastModifiedOn] datetimeoffset NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.346 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccessKeys] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [IssuedByUserId] int NOT NULL,
    [KeyType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [Token] nvarchar(256) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_AccessKeys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccessKeys_AspNetUsers_IssuedByUserId] FOREIGN KEY ([IssuedByUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessKeys_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.396 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [SerialNumber] nvarchar(64) NOT NULL,
    [DeviceType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [FirmwareVersion] nvarchar(32) NULL,
    [LastHeartbeatOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Devices] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Devices_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.467 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GarageAccesses] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [UserId] int NOT NULL,
    [AccessLevel] nvarchar(32) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GarageAccesses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GarageAccesses_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_GarageAccesses_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:15:19.514 +02:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GateEvents] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [InitiatorUserId] int NULL,
    [AccessKeyId] int NULL,
    [TriggerSource] nvarchar(32) NOT NULL,
    [Action] nvarchar(16) NOT NULL,
    [Result] nvarchar(16) NOT NULL,
    [FailureReason] nvarchar(256) NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GateEvents] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_GateEvents_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:03.811 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:16:04.541 +02:00 [INF] Executed DbCommand (634ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [GateSenseDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-17 13:16:05.609 +02:00 [INF] Executed DbCommand (1,065ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [GateSenseDB];
2025-11-17 13:16:26.122 +02:00 [INF] Executed DbCommand (2,591ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [GateSenseDB];
2025-11-17 13:16:26.723 +02:00 [INF] Executed DbCommand (557ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [GateSenseDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-17 13:16:26.754 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:16:26.761 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-17 13:16:27.027 +02:00 [INF] Executed DbCommand (261ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-17 13:16:27.254 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-17 13:16:27.272 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-17 13:16:27.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-17 13:16:27.306 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-17 13:16:27.328 +02:00 [INF] Applying migration '20251117111226_Initial'.
2025-11-17 13:16:27.412 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-11-17 13:16:27.420 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-11-17 13:16:27.431 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.442 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.455 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.463 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.469 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.479 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Garages] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(128) NOT NULL,
    [Address] nvarchar(256) NULL,
    [TimeZone] nvarchar(64) NULL,
    [OwnerId] int NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Garages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Garages_AspNetUsers_OwnerId] FOREIGN KEY ([OwnerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);
2025-11-17 13:16:27.486 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [Token] nvarchar(450) NOT NULL,
    [UserId] int NOT NULL,
    [ExpiresOnUtc] datetime2 NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL,
    [LastModifiedOn] datetimeoffset NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RefreshTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.495 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AccessKeys] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [IssuedByUserId] int NOT NULL,
    [KeyType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [Token] nvarchar(256) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_AccessKeys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AccessKeys_AspNetUsers_IssuedByUserId] FOREIGN KEY ([IssuedByUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessKeys_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.503 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Devices] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [SerialNumber] nvarchar(64) NOT NULL,
    [DeviceType] nvarchar(32) NOT NULL,
    [Status] nvarchar(32) NOT NULL,
    [FirmwareVersion] nvarchar(32) NULL,
    [LastHeartbeatOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_Devices] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Devices_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.510 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GarageAccesses] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [UserId] int NOT NULL,
    [AccessLevel] nvarchar(32) NOT NULL,
    [ExpiresOn] datetimeoffset NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GarageAccesses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GarageAccesses_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_GarageAccesses_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.522 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [GateEvents] (
    [Id] int NOT NULL IDENTITY,
    [GarageId] int NOT NULL,
    [InitiatorUserId] int NULL,
    [AccessKeyId] int NULL,
    [TriggerSource] nvarchar(32) NOT NULL,
    [Action] nvarchar(16) NOT NULL,
    [Result] nvarchar(16) NOT NULL,
    [FailureReason] nvarchar(256) NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_GateEvents] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_GateEvents_Garages_GarageId] FOREIGN KEY ([GarageId]) REFERENCES [Garages] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.563 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SensorReadings] (
    [Id] int NOT NULL IDENTITY,
    [DeviceId] int NOT NULL,
    [SensorType] nvarchar(32) NOT NULL,
    [Value] decimal(10,2) NOT NULL,
    [Unit] nvarchar(16) NOT NULL,
    [RecordedOn] datetimeoffset NOT NULL,
    [CreatedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    [LastModifiedOn] datetimeoffset NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT [PK_SensorReadings] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SensorReadings_Devices_DeviceId] FOREIGN KEY ([DeviceId]) REFERENCES [Devices] ([Id]) ON DELETE CASCADE
);
2025-11-17 13:16:27.731 +02:00 [INF] Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AccessKeys_GarageId] ON [AccessKeys] ([GarageId]);
2025-11-17 13:16:27.745 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AccessKeys_IssuedByUserId] ON [AccessKeys] ([IssuedByUserId]);
2025-11-17 13:16:27.754 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_AccessKeys_Token] ON [AccessKeys] ([Token]);
2025-11-17 13:16:27.758 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-11-17 13:16:27.818 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-11-17 13:16:27.824 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-11-17 13:16:27.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-11-17 13:16:27.833 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-11-17 13:16:27.837 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2025-11-17 13:16:27.843 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-11-17 13:16:27.849 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Devices_GarageId] ON [Devices] ([GarageId]);
2025-11-17 13:16:27.890 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Devices_SerialNumber] ON [Devices] ([SerialNumber]);
2025-11-17 13:16:27.897 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_GarageAccesses_GarageId_UserId] ON [GarageAccesses] ([GarageId], [UserId]);
2025-11-17 13:16:27.905 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GarageAccesses_UserId] ON [GarageAccesses] ([UserId]);
2025-11-17 13:16:27.909 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Garages_OwnerId] ON [Garages] ([OwnerId]);
2025-11-17 13:16:27.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GateEvents_AccessKeyId] ON [GateEvents] ([AccessKeyId]);
2025-11-17 13:16:27.916 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GateEvents_GarageId] ON [GateEvents] ([GarageId]);
2025-11-17 13:16:27.923 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_GateEvents_InitiatorUserId] ON [GateEvents] ([InitiatorUserId]);
2025-11-17 13:16:27.928 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_RefreshTokens_Token] ON [RefreshTokens] ([Token]);
2025-11-17 13:16:27.934 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2025-11-17 13:16:27.938 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_SensorReadings_DeviceId] ON [SensorReadings] ([DeviceId]);
2025-11-17 13:16:27.988 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117111226_Initial', N'9.0.9');
2025-11-17 13:16:27.992 +02:00 [INF] Applying migration '20251117111454_UpdateGateEventCascadeRules'.
2025-11-17 13:16:28.297 +02:00 [INF] Executed DbCommand (255ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] DROP CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId];
2025-11-17 13:16:28.304 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] DROP CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId];
2025-11-17 13:16:28.346 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] ADD CONSTRAINT [FK_GateEvents_AccessKeys_AccessKeyId] FOREIGN KEY ([AccessKeyId]) REFERENCES [AccessKeys] ([Id]) ON DELETE NO ACTION;
2025-11-17 13:16:28.353 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [GateEvents] ADD CONSTRAINT [FK_GateEvents_AspNetUsers_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;
2025-11-17 13:16:28.365 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251117111454_UpdateGateEventCascadeRules', N'9.0.9');
2025-11-17 13:16:28.447 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:45:45.608 +02:00 [INF] Executed DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:45:45.891 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 07:45:47.129 +02:00 [INF] Executed DbCommand (1,213ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 07:45:47.656 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 07:45:47.749 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:45:47.769 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 07:45:47.998 +02:00 [INF] Executed DbCommand (195ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 07:45:48.059 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-18 07:45:48.214 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:45:50.253 +02:00 [INF] Executed DbCommand (532ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:50.327 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:50.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.256 +02:00 [INF] Executed DbCommand (2,309ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-18 07:45:53.570 +02:00 [INF] Executed DbCommand (197ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.588 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.605 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:45:53.635 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 256), @p2='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-11-18 07:45:53.979 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-18 07:45:54.827 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-18 07:45:54.843 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 07:45:54.851 +02:00 [INF] Hosting environment: Development
2025-11-18 07:45:54.857 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-18 07:46:26.862 +02:00 [INF] Application is shutting down...
2025-11-18 07:48:20.499 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:48:20.586 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 07:48:21.143 +02:00 [INF] Executed DbCommand (546ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 07:48:21.348 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 07:48:21.403 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:48:21.416 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 07:48:21.582 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 07:48:21.620 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-18 07:48:21.707 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:48:22.246 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:48:22.362 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:48:22.563 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-18 07:48:22.690 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-18 07:48:22.699 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 07:48:22.701 +02:00 [INF] Hosting environment: Development
2025-11-18 07:48:22.703 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-18 07:48:30.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/ - null null
2025-11-18 07:48:30.654 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-18 07:48:37.353 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/ - 404 0 null 6857.2071ms
2025-11-18 07:48:37.394 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5148/, Response status code: 404
2025-11-18 07:48:44.373 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-18 07:48:45.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 847.7652ms
2025-11-18 07:48:45.362 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-11-18 07:48:45.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-11-18 07:48:45.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-11-18 07:48:45.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-11-18 07:48:45.372 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-11-18 07:48:45.401 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 28.955ms
2025-11-18 07:48:45.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 59.2462ms
2025-11-18 07:48:45.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 122.5934ms
2025-11-18 07:48:45.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 143.7886ms
2025-11-18 07:48:45.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 201.2305ms
2025-11-18 07:48:46.473 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-18 07:48:47.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 720.0438ms
2025-11-18 07:48:48.184 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-18 07:48:48.195 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 11.3234ms
2025-11-18 07:48:49.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-18 07:48:49.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-11-18 07:48:49.072 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 11.469ms
2025-11-18 07:48:49.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.8871ms
2025-11-18 07:50:51.396 +02:00 [INF] Application is shutting down...
2025-11-18 07:53:06.824 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:53:06.867 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-18 07:53:07.301 +02:00 [INF] Executed DbCommand (428ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-18 07:53:07.464 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-18 07:53:07.491 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-18 07:53:07.501 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-18 07:53:07.541 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-18 07:53:07.557 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-18 07:53:07.634 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-18 07:53:07.953 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:53:08.020 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-18 07:53:08.122 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-18 07:53:08.219 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-18 07:53:08.230 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 07:53:08.236 +02:00 [INF] Hosting environment: Development
2025-11-18 07:53:08.243 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 10:47:21.237 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:47:21.333 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-26 10:47:22.785 +02:00 [INF] Executed DbCommand (1,446ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-26 10:47:23.546 +02:00 [INF] Executed DbCommand (380ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-26 10:47:23.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:47:23.568 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-26 10:47:23.831 +02:00 [INF] Executed DbCommand (257ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-26 10:47:23.845 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-26 10:47:24.336 +02:00 [INF] Executed DbCommand (489ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-26 10:47:26.015 +02:00 [INF] Executed DbCommand (1,258ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:47:26.373 +02:00 [INF] Executed DbCommand (275ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:47:26.459 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 10:47:26.611 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-26 10:47:26.617 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 10:47:26.618 +02:00 [INF] Hosting environment: Development
2025-11-26 10:47:26.619 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 10:47:37.102 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/ - null null
2025-11-26 10:47:37.164 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-26 10:47:38.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/ - 404 0 null 1139.9191ms
2025-11-26 10:47:38.244 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5148/, Response status code: 404
2025-11-26 10:47:42.953 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-26 10:47:43.180 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 226.645ms
2025-11-26 10:47:43.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-11-26 10:47:43.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-11-26 10:47:43.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-11-26 10:47:43.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-11-26 10:47:43.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-11-26 10:47:43.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 4.8012ms
2025-11-26 10:47:43.258 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 16.0652ms
2025-11-26 10:47:43.258 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 12.8196ms
2025-11-26 10:47:43.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 39.509ms
2025-11-26 10:47:43.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 70.2853ms
2025-11-26 10:47:43.645 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-26 10:47:43.660 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-11-26 10:47:43.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 2.4904ms
2025-11-26 10:47:43.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.3286ms
2025-11-26 10:48:03.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-11-26 10:48:03.864 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-26 10:48:03.871 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-26 10:48:03.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 0 null 17.1634ms
2025-11-26 10:54:47.756 +02:00 [INF] Application is shutting down...
2025-11-26 10:54:53.867 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:54:53.905 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-26 10:54:54.171 +02:00 [INF] Executed DbCommand (261ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-26 10:54:54.292 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-26 10:54:54.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:54:54.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-26 10:54:54.339 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-26 10:54:54.352 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-26 10:54:54.416 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-26 10:54:54.882 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:54:54.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:54:55.009 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 10:54:55.069 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-26 10:54:55.073 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 10:54:55.074 +02:00 [INF] Hosting environment: Development
2025-11-26 10:54:55.074 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 10:56:43.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/423/devices - null null
2025-11-26 10:56:43.599 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-26 10:56:43.661 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-26 10:56:43.669 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-26 10:56:43.675 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/423/devices - 401 0 null 110.8159ms
2025-11-26 10:59:40.798 +02:00 [INF] Application is shutting down...
2025-11-26 10:59:45.161 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:59:45.198 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-26 10:59:45.415 +02:00 [INF] Executed DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-26 10:59:45.547 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-26 10:59:45.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-26 10:59:45.569 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-26 10:59:45.593 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-26 10:59:45.607 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-26 10:59:45.671 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-26 10:59:46.125 +02:00 [INF] Executed DbCommand (175ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:59:46.178 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-11-26 10:59:46.250 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-26 10:59:46.308 +02:00 [INF] Now listening on: http://localhost:5148
2025-11-26 10:59:46.312 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-26 10:59:46.313 +02:00 [INF] Hosting environment: Development
2025-11-26 10:59:46.314 +02:00 [INF] Content root path: D:\Study\3_1\Atark\lb2\GateSense\GetSense.API
2025-11-26 11:09:48.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/423/devices - null null
2025-11-26 11:09:48.690 +02:00 [WRN] Failed to determine the https port for redirect.
2025-11-26 11:09:49.761 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-26 11:09:49.769 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-26 11:09:49.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/423/devices - 401 0 null 1253.1263ms
2025-11-26 11:22:30.355 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 129
2025-11-26 11:22:30.360 +02:00 [INF] CORS policy execution failed.
2025-11-26 11:22:30.374 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-11-26 11:22:30.389 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-11-26 11:22:30.435 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-11-26 11:22:30.697 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) - Validation state: "Valid"
2025-11-26 11:22:31.372 +02:00 [INF] Executed DbCommand (270ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:22:31.421 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:22:32.113 +02:00 [INF] Executed DbCommand (353ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-11-26 11:22:32.224 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-26 11:22:32.344 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-11-26 11:22:32.350 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-11-26 11:22:32.614 +02:00 [INF] Executed DbCommand (246ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:22:32.659 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:22:33.259 +02:00 [INF] Executed DbCommand (573ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2025-11-26 11:22:33.336 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.StatusCodeResult in 2631.3585ms.
2025-11-26 11:22:33.345 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-11-26 11:22:33.352 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 2909.0818ms
2025-11-26 11:22:33.354 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-11-26 11:22:33.370 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 3015.3016ms
2025-11-26 11:23:03.092 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 51
2025-11-26 11:23:03.095 +02:00 [INF] CORS policy execution failed.
2025-11-26 11:23:03.096 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-11-26 11:23:03.099 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:03.120 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-11-26 11:23:03.147 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) - Validation state: "Valid"
2025-11-26 11:23:03.535 +02:00 [INF] Executed DbCommand (327ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:23:03.544 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:23:03.599 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 450.3238ms.
2025-11-26 11:23:03.614 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-11-26 11:23:03.814 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 688.6458ms
2025-11-26 11:23:03.815 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:03.817 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 400 null application/problem+json; charset=utf-8 724.6499ms
2025-11-26 11:23:12.358 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-11-26 11:23:12.360 +02:00 [INF] CORS policy execution failed.
2025-11-26 11:23:12.361 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-11-26 11:23:12.362 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:12.363 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-11-26 11:23:12.382 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) - Validation state: "Valid"
2025-11-26 11:23:12.385 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-11-26 11:23:12.387 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-11-26 11:23:12.390 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6.421ms.
2025-11-26 11:23:12.392 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-11-26 11:23:12.396 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 31.4592ms
2025-11-26 11:23:12.398 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-11-26 11:23:12.399 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 404 null application/problem+json; charset=utf-8 41.2327ms
2025-11-26 11:23:30.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-11-26 11:23:30.646 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 178.3833ms
2025-11-26 11:23:31.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-11-26 11:23:31.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 369.1441ms
2025-11-26 18:53:55.385 +02:00 [INF] Application is shutting down...
2025-12-11 18:06:35.672 +02:00 [ERR] An error occurred using the connection to database 'GateSenseDB' on server 'tcp://localhost:5432'.
2025-12-11 18:06:35.761 +02:00 [INF] No migrations were found in assembly 'GateSense.Infrastructure'. A migration needs to be added before the database can be updated.
2025-12-11 18:06:37.194 +02:00 [INF] Executed DbCommand (1,044ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "GateSenseDB";
2025-12-11 18:06:37.881 +02:00 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:06:37.976 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:06:37.989 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:06:38.019 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:06:38.708 +02:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:06:38.738 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42P01:  "AspNetRoles"  

POSITION: 73
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 
    SqlState: 42P01
    MessageText:  "AspNetRoles"  
    Position: 73
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01:  "AspNetRoles"  

POSITION: 73
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 
    SqlState: 42P01
    MessageText:  "AspNetRoles"  
    Position: 73
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-11 18:09:33.386 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:09:33.427 +02:00 [INF] No migrations were found in assembly 'GateSense.Infrastructure'. A migration needs to be added before the database can be updated.
2025-12-11 18:09:33.618 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:09:33.627 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-11 18:09:33.631 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:09:33.635 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:09:33.640 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:11:56.510 +02:00 [INF] Executed DbCommand (417ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "GateSenseDB" WITH (FORCE);
2025-12-11 18:12:02.723 +02:00 [ERR] An error occurred using the connection to database 'GateSenseDB' on server 'tcp://localhost:5432'.
2025-12-11 18:12:02.755 +02:00 [INF] No migrations were found in assembly 'GateSense.Infrastructure'. A migration needs to be added before the database can be updated.
2025-12-11 18:12:03.654 +02:00 [INF] Executed DbCommand (713ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "GateSenseDB";
2025-12-11 18:12:03.953 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:12:03.962 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-11 18:12:03.965 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:12:03.973 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:12:03.985 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:14:10.430 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:14:10.469 +02:00 [INF] No migrations were found in assembly 'GateSense.Infrastructure'. A migration needs to be added before the database can be updated.
2025-12-11 18:14:10.689 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:14:10.699 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-11 18:14:10.703 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:14:10.708 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:14:10.715 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:14:38.866 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:14:38.940 +02:00 [INF] No migrations were found in assembly 'GateSense.Infrastructure'. A migration needs to be added before the database can be updated.
2025-12-11 18:14:39.209 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:14:39.229 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:14:39.234 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:14:39.243 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:14:39.650 +02:00 [ERR] Failed executing DbCommand (50ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:14:39.684 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42P01:  "AspNetRoles"  

POSITION: 73
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 
    SqlState: 42P01
    MessageText:  "AspNetRoles"  
    Position: 73
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01:  "AspNetRoles"  

POSITION: 73
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: 
    SqlState: 42P01
    MessageText:  "AspNetRoles"  
    Position: 73
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-11 18:17:38.465 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:17:38.747 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:17:38.756 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-11 18:17:38.759 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:17:38.762 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:17:38.770 +02:00 [INF] Applying migration '20251211161725_Initial'.
2025-12-11 18:17:38.843 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-12-11 18:17:38.853 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text,
    "LastName" text,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-12-11 18:17:38.876 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" integer NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-12-11 18:17:38.887 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-11 18:17:38.897 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" integer NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-11 18:17:38.907 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" integer NOT NULL,
    "RoleId" integer NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-11 18:17:38.922 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" integer NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-11 18:17:38.967 +02:00 [ERR] Failed executing DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Garages" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(128) NOT NULL,
    "Address" character varying(256),
    "TimeZone" character varying(64),
    "OwnerId" integer,
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (SYSUTCDATETIME()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (SYSUTCDATETIME()),
    CONSTRAINT "PK_Garages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Garages_AspNetUsers_OwnerId" FOREIGN KEY ("OwnerId") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT
);
2025-12-11 18:19:43.896 +02:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:19:44.194 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-11 18:19:44.213 +02:00 [INF] Applying migration '20251211161934_Initial'.
2025-12-11 18:22:24.454 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:22:24.930 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:22:24.953 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:22:24.959 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:22:24.966 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:22:25.368 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:22:25.378 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:22:25.384 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:22:25.558 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-12-11 18:22:25.590 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:22:25.595 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:22:25.598 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:22:25.604 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-12-11 18:22:25.763 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:22:25.998 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:22:26.072 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:22:26.075 +02:00 [INF] Hosting environment: Development
2025-12-11 18:22:26.076 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:22:50.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-12-11 18:22:50.687 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 297.0028ms
2025-12-11 18:22:50.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-12-11 18:22:50.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-12-11 18:22:50.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-12-11 18:22:50.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-12-11 18:22:50.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-12-11 18:22:50.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/_framework/aspnetcore-browser-refresh.js - null null
2025-12-11 18:22:50.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 20.4971ms
2025-12-11 18:22:50.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 30.9424ms
2025-12-11 18:22:50.852 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/_vs/browserLink - null null
2025-12-11 18:22:50.882 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 103.1183ms
2025-12-11 18:22:50.882 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 103.3637ms
2025-12-11 18:22:50.944 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 127.3723ms
2025-12-11 18:22:50.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 180.0604ms
2025-12-11 18:22:51.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/_vs/browserLink - 200 null text/javascript; charset=UTF-8 164.0944ms
2025-12-11 18:22:53.111 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-12-11 18:22:53.322 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 216.9207ms
2025-12-11 18:23:20.211 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 130
2025-12-11 18:23:20.217 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:23:20.267 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:23:20.269 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:23:20.372 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 18:23:20.401 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:23:20.612 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:23:20.632 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:23:20.742 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-12-11 18:23:20.762 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 18:23:20.812 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-12-11 18:23:20.820 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 18:23:20.836 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:23:20.842 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:23:20.895 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FirstName" = @p6, "LastName" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "PasswordHash" = @p12, "PhoneNumber" = @p13, "PhoneNumberConfirmed" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-12-11 18:23:20.907 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 18:23:20.913 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 505.6735ms
2025-12-11 18:23:20.916 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 18:23:20.925 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 714.5052ms
2025-12-11 18:23:44.633 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:23:44.638 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:23:44.639 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:23:44.640 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:23:44.646 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:23:44.703 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:23:44.708 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:23:44.721 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:23:44.746 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 97.6055ms
2025-12-11 18:23:44.749 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:23:44.750 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 400 null application/problem+json; charset=utf-8 117.3862ms
2025-12-11 18:26:02.964 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:26:02.997 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:26:02.998 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:26:03.016 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:26:03.023 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:26:03.108 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:26:03.117 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:26:03.303 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:26:03.411 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:26:03.639 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:26:03.647 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:26:03.658 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 633.1808ms
2025-12-11 18:26:03.661 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:26:03.662 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 722.6842ms
2025-12-11 18:27:07.990 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:27:08.098 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:27:08.112 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:27:08.141 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:27:08.171 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 56.6182ms
2025-12-11 18:27:08.177 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:27:08.184 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 194.437ms
2025-12-11 18:29:10.490 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:29:10.909 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:29:10.932 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:29:10.937 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:29:10.948 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:29:11.341 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:29:11.403 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:29:11.564 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:29:11.839 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:29:11.940 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:29:11.941 +02:00 [INF] Hosting environment: Development
2025-12-11 18:29:11.943 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:29:51.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-12-11 18:29:51.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 262.9742ms
2025-12-11 18:29:51.829 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/_framework/aspnetcore-browser-refresh.js - null null
2025-12-11 18:29:51.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 15.4405ms
2025-12-11 18:29:51.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/_vs/browserLink - null null
2025-12-11 18:29:51.954 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.3289ms
2025-12-11 18:29:52.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-12-11 18:29:52.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-12-11 18:29:52.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 58.0354ms
2025-12-11 18:29:52.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.4066ms
2025-12-11 18:30:13.639 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:30:13.713 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:30:14.219 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:30:14.221 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:30:15.976 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:30:16.005 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:30:16.109 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:30:16.122 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:30:16.266 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:30:16.322 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:30:16.456 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:30:16.602 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:30:16.620 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:30:16.631 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 617.5848ms
2025-12-11 18:30:16.633 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:30:16.641 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 3002.3029ms
2025-12-11 18:30:42.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:30:42.213 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:30:42.222 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:30:42.237 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:30:42.262 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 38.3972ms
2025-12-11 18:30:42.264 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:30:42.265 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 69.33ms
2025-12-11 18:32:06.156 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:32:06.552 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:32:06.573 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:32:06.578 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:32:06.585 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:32:06.945 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:32:07.003 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:32:07.180 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:32:07.421 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:32:07.543 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:32:07.544 +02:00 [INF] Hosting environment: Development
2025-12-11 18:32:07.545 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:32:19.979 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-12-11 18:32:20.234 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 261.3114ms
2025-12-11 18:32:20.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/_vs/browserLink - null null
2025-12-11 18:32:20.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/_framework/aspnetcore-browser-refresh.js - null null
2025-12-11 18:32:20.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 12.288ms
2025-12-11 18:32:20.756 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.1606ms
2025-12-11 18:32:20.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-12-11 18:32:21.085 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.2257ms
2025-12-11 18:32:33.707 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:32:33.732 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:32:33.764 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:32:33.766 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:32:33.948 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:32:33.975 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:32:34.955 +02:00 [INF] Executed DbCommand (153ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:32:34.971 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:32:35.559 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:32:36.368 +02:00 [INF] Executed DbCommand (364ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:32:36.489 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:32:36.582 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:32:36.592 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:32:36.603 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 2620.6356ms
2025-12-11 18:32:36.606 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:32:36.615 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 2908.029ms
2025-12-11 18:32:57.383 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:32:57.399 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:32:57.404 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:32:57.413 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:32:57.430 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 24.1097ms
2025-12-11 18:32:57.432 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:32:57.433 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 50.8934ms
2025-12-11 18:34:00.353 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:34:00.770 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:34:00.797 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:34:00.802 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:34:00.815 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:34:01.262 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:34:01.335 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:34:01.489 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:34:01.718 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:34:01.807 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:34:01.810 +02:00 [INF] Hosting environment: Development
2025-12-11 18:34:01.811 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:34:20.815 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:34:20.877 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:34:21.110 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:34:21.138 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:34:21.157 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:34:21.204 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 59.0603ms
2025-12-11 18:34:21.207 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:34:21.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 409.5204ms
2025-12-11 18:39:26.752 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:39:27.186 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:39:27.206 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:39:27.210 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:39:27.218 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:39:28.409 +02:00 [INF] Executed DbCommand (276ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:39:28.563 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:39:29.895 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:39:30.176 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:39:30.269 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:39:30.271 +02:00 [INF] Hosting environment: Development
2025-12-11 18:39:30.272 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:39:40.576 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:39:40.634 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:39:40.660 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:39:40.662 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:39:40.759 +02:00 [INF] Authorization header found: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdW
2025-12-11 18:39:40.761 +02:00 [INF] Token extracted from Authorization header
2025-12-11 18:39:40.837 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:39:40.843 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:39:40.874 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:39:40.994 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:39:41.009 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:39:41.213 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:39:41.257 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:39:41.364 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:39:41.463 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:39:41.474 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:39:41.490 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 610.4235ms
2025-12-11 18:39:41.495 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:39:41.504 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 935.6975ms
2025-12-11 18:39:46.775 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:39:46.782 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:39:46.783 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:39:46.785 +02:00 [INF] Authorization header found: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdW
2025-12-11 18:39:46.786 +02:00 [INF] Token extracted from Authorization header
2025-12-11 18:39:46.788 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:39:46.790 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:39:46.792 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:39:46.841 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:39:46.847 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:39:46.917 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:39:46.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:39:46.930 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:39:46.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:39:46.937 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:39:46.939 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 145.6881ms
2025-12-11 18:39:46.941 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:39:46.943 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 167.8484ms
2025-12-11 18:40:10.902 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:40:10.916 +02:00 [INF] Authorization header found: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdW
2025-12-11 18:40:10.917 +02:00 [INF] Token extracted from Authorization header
2025-12-11 18:40:10.918 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:40:10.926 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:40:10.931 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:40:10.938 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:40:10.962 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 27.6227ms
2025-12-11 18:40:10.964 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:40:10.966 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 64.3511ms
2025-12-11 18:41:57.785 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:41:58.238 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:41:58.269 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:41:58.275 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:41:58.284 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:41:58.832 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:41:58.916 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:41:59.123 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:41:59.399 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:41:59.596 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:41:59.599 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:41:59.602 +02:00 [INF] Hosting environment: Development
2025-12-11 18:41:59.603 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:41:59.655 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:41:59.775 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:41:59.848 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:41:59.858 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:41:59.873 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:41:59.891 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:41:59.941 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 60.0186ms
2025-12-11 18:41:59.945 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:41:59.949 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 428.2599ms
2025-12-11 18:42:18.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:42:18.581 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:42:18.583 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:42:18.586 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:42:18.588 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:42:18.596 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:42:18.599 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 7.2688ms
2025-12-11 18:42:18.601 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:42:18.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 30.2641ms
2025-12-11 18:46:33.534 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:46:34.339 +02:00 [INF] Executed DbCommand (225ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 18:46:34.375 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 18:46:34.384 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 18:46:34.402 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 18:46:34.930 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:46:35.023 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 18:46:35.245 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 18:46:35.492 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 18:46:35.564 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 18:46:35.566 +02:00 [INF] Hosting environment: Development
2025-12-11 18:46:35.568 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 18:46:35.710 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:46:35.780 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 18:46:35.889 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:46:35.968 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:46:35.982 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:46:35.998 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:46:36.014 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:46:36.067 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 63.2888ms
2025-12-11 18:46:36.071 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:46:36.076 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 null application/problem+json; charset=utf-8 373.2378ms
2025-12-11 18:46:46.980 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:46:46.987 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:46:46.989 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:46:46.992 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:46:46.995 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:46:46.998 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:46:47.023 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:46:47.097 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:46:47.114 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:46:47.255 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:46:47.301 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:46:47.431 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:46:47.540 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:46:47.552 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:46:47.558 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 532.8407ms
2025-12-11 18:46:47.561 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:46:47.567 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 586.7581ms
2025-12-11 18:46:59.825 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:46:59.841 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:46:59.844 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:46:59.848 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:46:59.850 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:46:59.924 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 18:46:59.928 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:46:59.987 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 134.606ms
2025-12-11 18:46:59.990 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:46:59.992 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 166.7585ms
2025-12-11 18:55:57.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/profile - null null
2025-12-11 18:55:57.361 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:55:57.383 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:55:57.449 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginProfile (GetSense.API)'
2025-12-11 18:55:57.506 +02:00 [INF] Route matched with {action = "LoginProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginProfile() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:55:57.784 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:55:57.830 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:55:57.836 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:55:57.848 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginProfile (GetSense.API) in 335.1956ms
2025-12-11 18:55:57.850 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginProfile (GetSense.API)'
2025-12-11 18:55:57.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/profile - 200 null application/json; charset=utf-8 574.8164ms
2025-12-11 18:56:05.961 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:56:05.977 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:56:05.978 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:56:05.982 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:05.984 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:05.986 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:56:05.990 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:06.039 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:56:06.045 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:56:06.141 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:56:06.153 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:56:06.184 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:56:06.197 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:06.200 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:06.202 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 208.9334ms
2025-12-11 18:56:06.203 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:56:06.204 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 243.365ms
2025-12-11 18:56:11.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/profile - null null
2025-12-11 18:56:11.720 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:11.722 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:11.723 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginProfile (GetSense.API)'
2025-12-11 18:56:11.724 +02:00 [INF] Route matched with {action = "LoginProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginProfile() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:11.734 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:56:11.738 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:11.741 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:11.743 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginProfile (GetSense.API) in 16.5152ms
2025-12-11 18:56:11.744 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginProfile (GetSense.API)'
2025-12-11 18:56:11.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/profile - 200 null application/json; charset=utf-8 28.5011ms
2025-12-11 18:56:25.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 18:56:25.238 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:25.240 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:25.243 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:25.263 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:25.350 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 18:56:25.365 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 18:56:25.369 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:56:25.377 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:25.380 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:25.381 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 115.7636ms
2025-12-11 18:56:25.382 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:25.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 149.4937ms
2025-12-11 18:56:28.554 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 18:56:28.557 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:28.559 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:28.560 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:28.561 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:28.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 18:56:28.570 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 18:56:28.578 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:56:28.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:28.588 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:28.591 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 28.5076ms
2025-12-11 18:56:28.593 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:28.596 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 42.03ms
2025-12-11 18:56:29.519 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 18:56:29.524 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:29.526 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:29.526 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:29.527 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:29.532 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 18:56:29.535 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 18:56:29.539 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:56:29.545 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:29.547 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:29.548 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 19.0246ms
2025-12-11 18:56:29.549 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:29.550 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 31.3458ms
2025-12-11 18:56:30.229 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 18:56:30.232 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:30.232 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:30.233 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:30.234 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:30.253 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 18:56:30.259 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 18:56:30.269 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:56:30.275 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:30.278 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:30.280 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 43.3715ms
2025-12-11 18:56:30.281 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:30.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 52.7352ms
2025-12-11 18:56:50.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/logout - null null
2025-12-11 18:56:50.288 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:56:50.291 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:50.293 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LogoutAsync (GetSense.API)'
2025-12-11 18:56:50.302 +02:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutAsync() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:50.337 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-12-11 18:56:50.340 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-12-11 18:56:50.344 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-12-11 18:56:50.352 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 18:56:50.353 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LogoutAsync (GetSense.API) in 49.4404ms
2025-12-11 18:56:50.354 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LogoutAsync (GetSense.API)'
2025-12-11 18:56:50.355 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/logout - 200 0 null 70.7462ms
2025-12-11 18:56:54.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 18:56:54.333 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-11 18:56:54.334 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:54.335 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:54.337 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:54.342 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE FALSE
LIMIT 1
2025-12-11 18:56:54.347 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-12-11 18:56:54.348 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-12-11 18:56:54.349 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-12-11 18:56:54.352 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 18:56:54.380 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 41.7445ms
2025-12-11 18:56:54.383 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:56:54.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 400 null application/problem+json; charset=utf-8 55.5387ms
2025-12-11 18:56:59.120 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 18:56:59.123 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:56:59.124 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:56:59.126 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-11 18:56:59.127 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:56:59.128 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:56:59.129 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:56:59.159 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 18:56:59.167 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 18:56:59.233 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 18:56:59.237 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 18:56:59.246 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:56:59.254 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:56:59.257 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:56:59.260 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 120.6605ms
2025-12-11 18:56:59.263 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 18:56:59.265 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 144.8918ms
2025-12-11 18:57:01.977 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 18:57:01.981 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:57:01.983 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:57:01.984 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:57:01.985 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 18:57:01.992 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 18:57:01.998 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 18:57:02.003 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 18:57:02.009 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 18:57:02.011 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:57:02.012 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 25.4962ms
2025-12-11 18:57:02.013 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 18:57:02.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 37.3355ms
2025-12-11 18:57:20.736 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages - application/json 69
2025-12-11 18:57:20.746 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:57:20.747 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:57:20.750 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:57:20.751 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:57:20.752 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 18:57:20.766 +02:00 [INF] Route matched with {action = "CreateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGarage(Domain.Models.DTOS.Garages.CreateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:57:20.840 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Garages" ("Address", "CreatedOn", "LastModifiedOn", "Name", "OwnerId", "TimeZone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-11 18:57:20.852 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:57:20.855 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) in 88.018ms
2025-12-11 18:57:20.857 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 18:57:20.859 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages - 201 null application/json; charset=utf-8 122.4229ms
2025-12-11 18:57:28.424 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:57:28.430 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:57:28.432 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:57:28.433 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:57:28.434 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:57:28.436 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 18:57:28.438 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:57:28.448 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 13.139ms
2025-12-11 18:57:28.450 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:57:28.451 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 27.2964ms
2025-12-11 18:57:50.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1 - null null
2025-12-11 18:57:50.685 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:57:50.686 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:57:50.687 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetGarageDetails (GetSense.API)'
2025-12-11 18:57:50.695 +02:00 [INF] Route matched with {action = "GetGarageDetails", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageDetails(Int32) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:57:50.725 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 18:57:50.728 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 18:57:50.731 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetGarageDetails (GetSense.API) in 34.3313ms
2025-12-11 18:57:50.733 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetGarageDetails (GetSense.API)'
2025-12-11 18:57:50.734 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1 - 200 null application/json; charset=utf-8 59.6562ms
2025-12-11 18:57:55.486 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages - application/json 69
2025-12-11 18:57:55.491 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:57:55.492 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:57:55.493 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:57:55.496 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:57:55.497 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 18:57:55.498 +02:00 [INF] Route matched with {action = "CreateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGarage(Domain.Models.DTOS.Garages.CreateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:57:55.503 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Garages" ("Address", "CreatedOn", "LastModifiedOn", "Name", "OwnerId", "TimeZone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-11 18:57:55.506 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:57:55.507 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) in 7.5071ms
2025-12-11 18:57:55.509 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 18:57:55.510 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages - 201 null application/json; charset=utf-8 24.0263ms
2025-12-11 18:57:57.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:57:57.948 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:57:57.949 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:57:57.959 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:57:57.963 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:57:57.970 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 18:57:57.978 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:57:57.981 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 16.2426ms
2025-12-11 18:57:57.983 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:57:57.984 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 40.2843ms
2025-12-11 18:58:12.006 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5148/garages/1 - application/json 75
2025-12-11 18:58:12.011 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:58:12.011 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:58:12.013 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:58:12.014 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:58:12.016 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.UpdateGarage (GetSense.API)'
2025-12-11 18:58:12.020 +02:00 [INF] Route matched with {action = "UpdateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGarage(Int32, Domain.Models.DTOS.Garages.UpdateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:58:12.034 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 18:58:12.046 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Garages" SET "Address" = @p0, "CreatedOn" = @p1, "LastModifiedOn" = @p2, "Name" = @p3, "OwnerId" = @p4, "TimeZone" = @p5
WHERE "Id" = @p6;
2025-12-11 18:58:12.049 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 18:58:12.049 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.UpdateGarage (GetSense.API) in 26.8845ms
2025-12-11 18:58:12.050 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.UpdateGarage (GetSense.API)'
2025-12-11 18:58:12.051 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5148/garages/1 - 200 0 null 45.2045ms
2025-12-11 18:58:17.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:58:17.939 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:58:17.941 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:58:17.942 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:58:17.943 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:58:17.958 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 18:58:17.963 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:58:17.967 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 16.4135ms
2025-12-11 18:58:17.970 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:58:17.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 36.5857ms
2025-12-11 18:58:22.732 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5148/garages/2 - null null
2025-12-11 18:58:22.735 +02:00 [INF] CORS policy execution failed.
2025-12-11 18:58:22.736 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 18:58:22.737 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:58:22.739 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:58:22.741 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.DeleteGarage (GetSense.API)'
2025-12-11 18:58:22.752 +02:00 [INF] Route matched with {action = "DeleteGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGarage(Int32) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:58:22.764 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 18:58:22.799 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Garages" AS g
WHERE g."Id" = @__garageId_0 AND g."OwnerId" = @__userId_1
2025-12-11 18:58:22.801 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-11 18:58:22.802 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.DeleteGarage (GetSense.API) in 48.2811ms
2025-12-11 18:58:22.803 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.DeleteGarage (GetSense.API)'
2025-12-11 18:58:22.803 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5148/garages/2 - 204 null null 71.1998ms
2025-12-11 18:58:26.585 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 18:58:26.589 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 18:58:26.590 +02:00 [INF] JWT Token validated successfully
2025-12-11 18:58:26.592 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:58:26.593 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 18:58:26.599 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 18:58:26.602 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 18:58:26.604 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 8.711ms
2025-12-11 18:58:26.605 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 18:58:26.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 22.4423ms
2025-12-11 19:01:44.985 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/devices - application/json 87
2025-12-11 19:01:45.002 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:01:45.004 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:01:45.007 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:01:45.011 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:01:45.014 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:01:45.041 +02:00 [INF] Route matched with {action = "RegisterDevice", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterDevice(Int32, Domain.Models.DTOS.Devices.RegisterDeviceRequest) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:01:45.244 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:01:45.254 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:01:45.256 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API) in 211.9689ms
2025-12-11 19:01:45.258 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:01:45.259 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/devices - 400 null application/problem+json; charset=utf-8 275.0202ms
2025-12-11 19:05:33.132 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/devices - application/json 95
2025-12-11 19:05:33.136 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:05:33.138 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:05:33.140 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:05:33.143 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:05:33.144 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:05:33.146 +02:00 [INF] Route matched with {action = "RegisterDevice", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterDevice(Int32, Domain.Models.DTOS.Devices.RegisterDeviceRequest) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:05:33.186 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:05:33.351 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Devices" ("CreatedOn", "DeviceType", "FirmwareVersion", "GarageId", "LastHeartbeatOn", "LastModifiedOn", "SerialNumber", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-11 19:05:33.363 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:05:33.364 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API) in 216.521ms
2025-12-11 19:05:33.366 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:05:33.367 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/devices - 201 null application/json; charset=utf-8 237.067ms
2025-12-11 19:05:39.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/devices - null null
2025-12-11 19:05:39.615 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:05:39.617 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:05:39.619 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:05:39.629 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:05:39.640 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:05:39.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-11 19:05:39.714 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:05:39.766 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 135.3439ms
2025-12-11 19:05:39.768 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:05:39.777 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Data.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-11 19:05:39.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/devices - 500 null application/json; charset=utf-8 356.9839ms
2025-12-11 19:06:06.066 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/devices - application/json 95
2025-12-11 19:06:06.069 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:06:06.071 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:06:06.078 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:06:06.091 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:06:06.093 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:06:06.094 +02:00 [INF] Route matched with {action = "RegisterDevice", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterDevice(Int32, Domain.Models.DTOS.Devices.RegisterDeviceRequest) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:06:06.103 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:06:06.147 +02:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Devices" ("CreatedOn", "DeviceType", "FirmwareVersion", "GarageId", "LastHeartbeatOn", "LastModifiedOn", "SerialNumber", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-11 19:06:06.185 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505:       "IX_Devices_SerialNumber"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: 
    SqlState: 23505
    MessageText:       "IX_Devices_SerialNumber"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Devices
    ConstraintName: IX_Devices_SerialNumber
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505:       "IX_Devices_SerialNumber"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: 
    SqlState: 23505
    MessageText:       "IX_Devices_SerialNumber"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Devices
    ConstraintName: IX_Devices_SerialNumber
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-11 19:06:06.744 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:06:06.746 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API) in 650.0131ms
2025-12-11 19:06:06.748 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:06:06.749 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/devices - 409 null application/problem+json; charset=utf-8 683.4723ms
2025-12-11 19:06:17.533 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/devices - null null
2025-12-11 19:06:17.538 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:06:17.540 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:06:17.542 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:06:17.545 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:06:17.550 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:06:17.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-11 19:06:17.557 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:06:17.563 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 15.8209ms
2025-12-11 19:06:17.564 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:06:17.565 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Data.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-11 19:06:17.584 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/devices - 500 null application/json; charset=utf-8 65.7955ms
2025-12-11 19:06:23.249 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 19:06:23.253 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:06:23.255 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:06:23.256 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 19:06:23.257 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:06:23.285 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 19:06:23.299 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 19:06:23.303 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:06:23.320 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:06:23.323 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:06:23.325 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 65.6996ms
2025-12-11 19:06:23.326 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 19:06:23.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 78.2943ms
2025-12-11 19:06:25.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/devices - null null
2025-12-11 19:06:25.522 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:06:25.524 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:06:25.526 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:06:25.528 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:06:25.533 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:06:25.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-11 19:06:25.542 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:06:25.546 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 16.9441ms
2025-12-11 19:06:25.547 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:06:25.548 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Data.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.Garage.Devices.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-12-11 19:06:25.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/devices - 500 null application/json; charset=utf-8 52.2111ms
2025-12-11 19:10:53.742 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:10:54.381 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 19:10:54.409 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 19:10:54.414 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:10:54.445 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 19:10:54.885 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:10:54.955 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:10:55.157 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 19:10:55.407 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 19:10:55.489 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 19:10:55.491 +02:00 [INF] Hosting environment: Development
2025-12-11 19:10:55.492 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 19:11:24.339 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/devices - null null
2025-12-11 19:11:24.445 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 19:11:24.649 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:11:24.831 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:11:24.857 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:11:24.914 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:11:25.059 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:11:25.175 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-11 19:11:25.202 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:11:25.340 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 415.537ms
2025-12-11 19:11:25.346 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:11:25.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/devices - 200 null application/json; charset=utf-8 1036.3453ms
2025-12-11 19:11:52.490 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/devices - application/json 119
2025-12-11 19:11:52.498 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:11:52.501 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:11:52.507 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:11:52.509 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:11:52.511 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:11:52.518 +02:00 [INF] Route matched with {action = "RegisterDevice", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterDevice(Int32, Domain.Models.DTOS.Devices.RegisterDeviceRequest) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:11:52.599 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:11:52.826 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Devices" ("CreatedOn", "DeviceType", "FirmwareVersion", "GarageId", "LastHeartbeatOn", "LastModifiedOn", "SerialNumber", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-11 19:11:52.862 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:11:52.865 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API) in 344.6042ms
2025-12-11 19:11:52.868 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.RegisterDevice (GetSense.API)'
2025-12-11 19:11:52.870 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/devices - 201 null application/json; charset=utf-8 380.0226ms
2025-12-11 19:12:00.894 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/devices - null null
2025-12-11 19:12:00.906 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:12:00.908 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:12:00.911 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:12:00.913 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:12:00.924 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:12:00.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-11 19:12:00.930 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:12:00.932 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 16.9097ms
2025-12-11 19:12:00.934 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:12:00.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/devices - 200 null application/json; charset=utf-8 42.4898ms
2025-12-11 19:12:16.484 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5148/garages/1/devices/3 - null null
2025-12-11 19:12:16.488 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:12:16.489 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:12:16.491 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:12:16.492 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:12:16.493 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.RemoveDevice (GetSense.API)'
2025-12-11 19:12:16.499 +02:00 [INF] Route matched with {action = "RemoveDevice", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveDevice(Int32, Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:12:16.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:12:16.516 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__deviceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Id" = @__deviceId_0
LIMIT 1
2025-12-11 19:12:16.556 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__deviceId_0='?' (DbType = Int32), @__garageId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Devices" AS d
WHERE d."Id" = @__deviceId_0 AND d."GarageId" = @__garageId_1
2025-12-11 19:12:16.562 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-11 19:12:16.563 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.RemoveDevice (GetSense.API) in 61.6173ms
2025-12-11 19:12:16.564 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.RemoveDevice (GetSense.API)'
2025-12-11 19:12:16.565 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5148/garages/1/devices/3 - 204 null null 81.5497ms
2025-12-11 19:12:19.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/devices - null null
2025-12-11 19:12:19.477 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:12:19.478 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:12:19.479 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:12:19.480 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-11 19:12:19.484 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:12:19.488 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-11 19:12:19.491 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:12:19.492 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 10.145ms
2025-12-11 19:12:19.494 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-11 19:12:19.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/devices - 200 null application/json; charset=utf-8 22.8595ms
2025-12-11 19:14:23.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:14:23.258 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:14:23.259 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:14:23.261 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:14:23.265 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:14:23.292 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:14:23.397 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:14:23.401 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:14:23.406 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 137.9834ms
2025-12-11 19:14:23.408 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:14:23.410 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 157.1287ms
2025-12-11 19:14:30.741 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/2/members - null null
2025-12-11 19:14:30.745 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:14:30.747 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:14:30.749 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:14:30.751 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:14:30.793 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:14:30.801 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:14:30.831 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 76.0205ms
2025-12-11 19:14:30.833 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:14:30.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/2/members - 404 null application/problem+json; charset=utf-8 93.6497ms
2025-12-11 19:15:11.278 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages - application/json 69
2025-12-11 19:15:11.282 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:15:11.284 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:15:11.285 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:15:11.286 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:15:11.288 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 19:15:11.292 +02:00 [INF] Route matched with {action = "CreateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGarage(Domain.Models.DTOS.Garages.CreateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 19:15:11.313 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Garages" ("Address", "CreatedOn", "LastModifiedOn", "Name", "OwnerId", "TimeZone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-11 19:15:11.322 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:15:11.324 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) in 30.8073ms
2025-12-11 19:15:11.326 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 19:15:11.327 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages - 201 null application/json; charset=utf-8 49.2887ms
2025-12-11 19:15:14.413 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages - application/json 69
2025-12-11 19:15:14.418 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:15:14.419 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:15:14.429 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:15:14.431 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:15:14.434 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 19:15:14.436 +02:00 [INF] Route matched with {action = "CreateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGarage(Domain.Models.DTOS.Garages.CreateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 19:15:14.450 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Garages" ("Address", "CreatedOn", "LastModifiedOn", "Name", "OwnerId", "TimeZone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-11 19:15:14.455 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:15:14.456 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) in 17.9249ms
2025-12-11 19:15:14.458 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-11 19:15:14.460 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages - 201 null application/json; charset=utf-8 46.4847ms
2025-12-11 19:15:21.086 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/4/members - null null
2025-12-11 19:15:21.090 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:15:21.102 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:15:21.104 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:15:21.106 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:15:21.142 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:15:21.148 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:15:21.152 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:15:21.154 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 44.9231ms
2025-12-11 19:15:21.155 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:15:21.156 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/4/members - 200 null application/json; charset=utf-8 69.7458ms
2025-12-11 19:15:45.188 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/access/family - application/json 40
2025-12-11 19:15:45.191 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:15:45.192 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:15:45.193 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:15:45.194 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:15:45.194 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-11 19:15:45.198 +02:00 [INF] Route matched with {action = "AssignFamilyAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignFamilyAccess(Domain.Models.DTOS.Access.AssignFamilyAccessRequest) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:15:45.214 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:15:45.237 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:15:45.240 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:15:45.242 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API) in 41.149ms
2025-12-11 19:15:45.244 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-11 19:15:45.245 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/access/family - 404 null application/problem+json; charset=utf-8 56.1671ms
2025-12-11 19:16:26.096 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 133
2025-12-11 19:16:26.100 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:16:26.101 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:16:26.102 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:16:26.103 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:16:26.105 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:26.112 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:16:26.376 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:26.395 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:26.464 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-12-11 19:16:26.526 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:26.587 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-12-11 19:16:26.596 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:26.612 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:26.618 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:26.650 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FirstName" = @p6, "LastName" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "PasswordHash" = @p12, "PhoneNumber" = @p13, "PhoneNumberConfirmed" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-12-11 19:16:26.658 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 19:16:26.659 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 545.9446ms
2025-12-11 19:16:26.660 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:26.661 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 565.8828ms
2025-12-11 19:16:30.845 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 133
2025-12-11 19:16:30.853 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:16:30.854 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:16:30.855 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:16:30.857 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:16:30.859 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:30.860 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:16:31.002 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:31.134 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:31.272 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:16:31.274 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 410.9403ms
2025-12-11 19:16:31.276 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:31.277 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 400 null application/problem+json; charset=utf-8 431.8922ms
2025-12-11 19:16:35.748 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 132
2025-12-11 19:16:35.751 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:16:35.752 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:16:35.753 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:16:35.754 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:16:35.755 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:35.757 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:16:35.836 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:35.840 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:35.845 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-12-11 19:16:35.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:35.867 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-12-11 19:16:35.875 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:35.880 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:35.889 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:35.894 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FirstName" = @p6, "LastName" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "PasswordHash" = @p12, "PhoneNumber" = @p13, "PhoneNumberConfirmed" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-12-11 19:16:35.897 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 19:16:35.899 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 139.7249ms
2025-12-11 19:16:35.900 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:35.900 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 152.3513ms
2025-12-11 19:16:40.080 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 132
2025-12-11 19:16:40.083 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:16:40.084 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:16:40.085 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:16:40.090 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:16:40.091 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:40.092 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:16:40.156 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:40.160 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:40.165 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-12-11 19:16:40.168 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:40.171 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-12-11 19:16:40.173 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:40.176 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:40.181 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:40.186 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FirstName" = @p6, "LastName" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "PasswordHash" = @p12, "PhoneNumber" = @p13, "PhoneNumberConfirmed" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-12-11 19:16:40.190 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 19:16:40.190 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 96.6315ms
2025-12-11 19:16:40.191 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:40.193 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 113.3986ms
2025-12-11 19:16:45.012 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 132
2025-12-11 19:16:45.016 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:16:45.017 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:16:45.019 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:16:45.023 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:16:45.038 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:45.042 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:16:45.125 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:45.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:45.135 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-12-11 19:16:45.138 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:45.141 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-12-11 19:16:45.144 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-11 19:16:45.147 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:16:45.150 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:16:45.154 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FirstName" = @p6, "LastName" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "PasswordHash" = @p12, "PhoneNumber" = @p13, "PhoneNumberConfirmed" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-12-11 19:16:45.157 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 19:16:45.158 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 113.8148ms
2025-12-11 19:16:45.159 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-11 19:16:45.160 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 147.2824ms
2025-12-11 19:17:31.201 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/access/family - application/json 49
2025-12-11 19:17:31.204 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:17:31.205 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:17:31.206 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:17:31.207 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:17:31.207 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-11 19:17:31.208 +02:00 [INF] Route matched with {action = "AssignFamilyAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignFamilyAccess(Domain.Models.DTOS.Access.AssignFamilyAccessRequest) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:17:31.221 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:17:31.223 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:17:31.239 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_GarageId_0='?' (DbType = Int32), @__familyUser_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__request_GarageId_0 AND g."UserId" = @__familyUser_Id_1
LIMIT 1
2025-12-11 19:17:31.291 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GarageAccesses" ("AccessLevel", "CreatedOn", "ExpiresOn", "GarageId", "LastModifiedOn", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-11 19:17:31.348 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AccessKeys" ("CreatedOn", "ExpiresOn", "GarageId", "IssuedByUserId", "KeyType", "LastModifiedOn", "Status", "Token")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-11 19:17:31.364 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 19:17:31.366 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API) in 156.1879ms
2025-12-11 19:17:31.368 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-11 19:17:31.372 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/access/family - 201 0 null 170.6188ms
2025-12-11 19:17:37.040 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:17:37.044 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:17:37.044 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:17:37.045 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:17:37.046 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:17:37.060 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:17:37.074 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:17:37.091 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:17:37.109 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 60.9508ms
2025-12-11 19:17:37.111 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:17:37.112 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 71.1378ms
2025-12-11 19:17:52.559 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 19:17:52.562 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:17:52.563 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:17:52.565 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 19:17:52.573 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 19:17:52.591 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 19:17:52.594 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:17:52.599 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 24.8538ms
2025-12-11 19:17:52.602 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 19:17:52.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 44.0109ms
2025-12-11 19:18:30.565 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/access/guest - application/json 121
2025-12-11 19:18:30.570 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:18:30.571 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:18:30.573 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:18:30.574 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:18:30.576 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.CreateGuestAccess (GetSense.API)'
2025-12-11 19:18:30.585 +02:00 [INF] Route matched with {action = "CreateGuestAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGuestAccess(Domain.Models.DTOS.Access.CreateGuestAccessRequest) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:18:30.606 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:18:30.612 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AccessKeys" ("CreatedOn", "ExpiresOn", "GarageId", "IssuedByUserId", "KeyType", "LastModifiedOn", "Status", "Token")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-11 19:18:30.616 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:18:30.617 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.CreateGuestAccess (GetSense.API) in 29.3321ms
2025-12-11 19:18:30.618 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.CreateGuestAccess (GetSense.API)'
2025-12-11 19:18:30.620 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/access/guest - 201 null application/json; charset=utf-8 73.3339ms
2025-12-11 19:18:35.199 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:18:35.202 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:18:35.202 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:18:35.203 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:35.204 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:18:35.207 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:18:35.212 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:18:35.215 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:18:35.216 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 10.3667ms
2025-12-11 19:18:35.217 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:35.218 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 18.7726ms
2025-12-11 19:18:50.353 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5148/access/1 - null null
2025-12-11 19:18:50.355 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:18:50.356 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:18:50.358 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:18:50.359 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:18:50.360 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.RevokeAccess (GetSense.API)'
2025-12-11 19:18:50.366 +02:00 [INF] Route matched with {action = "RevokeAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:18:50.385 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Id" = @__accessId_0
LIMIT 1
2025-12-11 19:18:50.392 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:18:50.398 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AccessKeys" SET "CreatedOn" = @p0, "ExpiresOn" = @p1, "GarageId" = @p2, "IssuedByUserId" = @p3, "KeyType" = @p4, "LastModifiedOn" = @p5, "Status" = @p6, "Token" = @p7
WHERE "Id" = @p8;
2025-12-11 19:18:50.401 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-11 19:18:50.403 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.RevokeAccess (GetSense.API) in 34.5131ms
2025-12-11 19:18:50.404 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.RevokeAccess (GetSense.API)'
2025-12-11 19:18:50.404 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5148/access/1 - 204 null null 51.2266ms
2025-12-11 19:18:52.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:18:52.815 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:18:52.817 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:18:52.818 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:52.819 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:18:52.823 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:18:52.826 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:18:52.828 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:18:52.832 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 11.1088ms
2025-12-11 19:18:52.834 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:52.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 24.8808ms
2025-12-11 19:18:54.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:18:54.276 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:18:54.278 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:18:54.279 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:54.282 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:18:54.295 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:18:54.303 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:18:54.305 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:18:54.307 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 23.1808ms
2025-12-11 19:18:54.308 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:54.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 37.6941ms
2025-12-11 19:18:54.704 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:18:54.709 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:18:54.711 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:18:54.712 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:54.714 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:18:54.720 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:18:54.725 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:18:54.727 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:18:54.728 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 10.5488ms
2025-12-11 19:18:54.730 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:18:54.731 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 26.8771ms
2025-12-11 19:19:26.117 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-11 19:19:26.121 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:19:26.122 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:19:26.125 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 19:19:26.133 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-11 19:19:26.144 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-11 19:19:26.151 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:19:26.156 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 20.099ms
2025-12-11 19:19:26.159 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-11 19:19:26.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 44.0528ms
2025-12-11 19:19:42.513 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 49
2025-12-11 19:19:42.518 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:19:42.521 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:19:42.523 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:19:42.526 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:19:42.528 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:19:42.544 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:19:42.561 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:19:42.571 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_AccessKeyToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Token" = @__request_AccessKeyToken_0
LIMIT 1
2025-12-11 19:19:42.573 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:19:42.574 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 25.9028ms
2025-12-11 19:19:42.575 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:19:42.577 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 401 null application/problem+json; charset=utf-8 63.6525ms
2025-12-11 19:20:02.173 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:20:02.183 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:20:02.184 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:20:02.185 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:20:02.189 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:20:02.191 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:20:02.192 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:20:02.203 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:20:02.276 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-11 19:20:02.284 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:20:02.285 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 91.2197ms
2025-12-11 19:20:02.287 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:20:02.287 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 200 0 null 114.6895ms
2025-12-11 19:20:10.342 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - null null
2025-12-11 19:20:10.347 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:20:10.349 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:20:10.351 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:20:10.355 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:20:10.361 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:20:10.381 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:20:10.396 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.Gates.GateEvent, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:20:10.408 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 50.7972ms
2025-12-11 19:20:10.410 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:20:10.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - 200 null application/json; charset=utf-8 69.5682ms
2025-12-11 19:23:01.303 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:23:02.006 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 19:23:02.048 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 19:23:02.054 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:23:02.064 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 19:23:02.675 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:23:02.757 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:23:02.973 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 19:23:06.445 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 19:23:06.542 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 19:23:06.545 +02:00 [INF] Hosting environment: Development
2025-12-11 19:23:06.547 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 19:23:10.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - null null
2025-12-11 19:23:11.035 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 19:23:11.164 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-11 19:23:11.245 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 19:23:11.268 +02:00 [ERR] JWT Authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:11'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 19:23:11.275 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:11'.
2025-12-11 19:23:11.296 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-11 19:23:11.305 +02:00 [WRN] JWT Challenge triggered. Error: invalid_token
2025-12-11 19:23:11.308 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-11 19:23:11.333 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - 401 0 null 371.9949ms
2025-12-11 19:23:17.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 19:23:17.490 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-11 19:23:17.499 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 19:23:17.504 +02:00 [ERR] JWT Authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:17'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 19:23:17.513 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:01:47', Current time (UTC): '11.12.2025 17:23:17'.
2025-12-11 19:23:17.519 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 19:23:17.541 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:23:17.687 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 19:23:17.857 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 19:23:17.995 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:23:18.065 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:23:18.081 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:23:18.099 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 552.3151ms
2025-12-11 19:23:18.103 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 19:23:18.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 641.9976ms
2025-12-11 19:23:22.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - null null
2025-12-11 19:23:22.378 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:23:22.388 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:23:22.391 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:23:22.405 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:23:22.490 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:23:22.535 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:23:22.547 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Gates.GateStateResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:23:22.558 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 150.9035ms
2025-12-11 19:23:22.561 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:23:22.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - 200 null application/json; charset=utf-8 193.2582ms
2025-12-11 19:23:41.366 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - application/json 0
2025-12-11 19:23:41.371 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:23:41.372 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:23:41.375 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:23:41.379 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:23:41.384 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:23:41.387 +02:00 [INF] Route matched with {action = "CloseGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:23:41.405 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-11 19:23:41.439 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.CloseGate (GetSense.API) in 49.687ms
2025-12-11 19:23:41.441 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:23:41.444 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - 400 null application/problem+json; charset=utf-8 77.5259ms
2025-12-11 19:23:47.651 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - application/json 20
2025-12-11 19:23:47.667 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:23:47.668 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:23:47.670 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:23:47.671 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:23:47.673 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:23:47.675 +02:00 [INF] Route matched with {action = "CloseGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:23:47.714 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-11 19:23:47.716 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.CloseGate (GetSense.API) in 36.3963ms
2025-12-11 19:23:47.717 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:23:47.718 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - 400 null application/problem+json; charset=utf-8 66.624ms
2025-12-11 19:23:53.166 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - application/json 19
2025-12-11 19:23:53.169 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:23:53.170 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:23:53.172 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:23:53.173 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:23:53.174 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:23:53.176 +02:00 [INF] Route matched with {action = "CloseGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:23:53.188 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:23:53.273 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-11 19:23:53.283 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:23:53.285 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.CloseGate (GetSense.API) in 106.722ms
2025-12-11 19:23:53.286 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:23:53.288 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - 200 0 null 121.8175ms
2025-12-11 19:23:56.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - null null
2025-12-11 19:23:56.778 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:23:56.791 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:23:56.796 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:23:56.798 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:23:56.806 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:23:56.816 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:23:56.818 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Gates.GateStateResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:23:56.820 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 19.6197ms
2025-12-11 19:23:56.821 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:23:56.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - 200 null application/json; charset=utf-8 49.1912ms
2025-12-11 19:24:07.941 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 50
2025-12-11 19:24:07.954 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:24:07.958 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:24:07.960 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:24:07.962 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:24:07.963 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:24:07.972 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:24:08.020 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:24:08.039 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:24:08.132 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:24:08.138 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:24:08.147 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:24:08.151 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:24:08.153 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 179.0457ms
2025-12-11 19:24:08.154 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:24:08.155 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 213.8634ms
2025-12-11 19:24:41.631 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:24:41.634 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:24:41.647 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:24:41.648 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:24:41.651 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:24:41.652 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:24:41.662 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:24:41.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:24:41.686 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:24:41.707 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 40.3ms
2025-12-11 19:24:41.711 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:24:41.714 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 403 null application/problem+json; charset=utf-8 82.463ms
2025-12-11 19:24:54.506 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 19:24:54.510 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:24:54.511 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:24:54.512 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:24:54.513 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:24:54.516 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:24:54.534 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:24:54.578 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:24:54.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:24:54.648 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:24:54.654 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 19:24:54.657 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:24:54.665 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:24:54.667 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:24:54.669 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 133.0409ms
2025-12-11 19:24:54.670 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:24:54.672 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 165.4687ms
2025-12-11 19:25:09.840 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:25:09.843 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:25:09.845 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:25:09.846 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:25:09.847 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:25:09.849 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:25:09.850 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:25:09.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:25:09.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-11 19:25:09.864 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:25:09.866 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 14.1345ms
2025-12-11 19:25:09.867 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:25:09.868 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 200 0 null 28.2345ms
2025-12-11 19:25:24.509 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/access/family - application/json 49
2025-12-11 19:25:24.513 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:25:24.514 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:25:24.515 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:25:24.527 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:25:24.532 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-11 19:25:24.545 +02:00 [INF] Route matched with {action = "AssignFamilyAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignFamilyAccess(Domain.Models.DTOS.Access.AssignFamilyAccessRequest) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:25:24.567 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:25:24.570 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:25:24.592 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_GarageId_0='?' (DbType = Int32), @__familyUser_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__request_GarageId_0 AND g."UserId" = @__familyUser_Id_1
LIMIT 1
2025-12-11 19:25:24.628 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GarageAccesses" ("AccessLevel", "CreatedOn", "ExpiresOn", "GarageId", "LastModifiedOn", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-11 19:25:24.672 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AccessKeys" ("CreatedOn", "ExpiresOn", "GarageId", "IssuedByUserId", "KeyType", "LastModifiedOn", "Status", "Token")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-11 19:25:24.683 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-11 19:25:24.684 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API) in 135.6448ms
2025-12-11 19:25:24.685 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-11 19:25:24.685 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/access/family - 201 0 null 176.3212ms
2025-12-11 19:25:33.389 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 50
2025-12-11 19:25:33.395 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:25:33.397 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:25:33.398 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:25:33.400 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:25:33.401 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:25:33.402 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:25:33.414 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:25:33.420 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:25:33.484 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:25:33.488 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 19:25:33.493 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:25:33.550 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:25:33.553 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:25:33.555 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 150.561ms
2025-12-11 19:25:33.557 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:25:33.560 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 171.1825ms
2025-12-11 19:25:43.017 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:25:43.021 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:25:43.034 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:25:43.038 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:25:43.039 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:25:43.041 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:25:43.045 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:25:43.062 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:25:43.069 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:25:43.071 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 20.0856ms
2025-12-11 19:25:43.073 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:25:43.077 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 403 null application/problem+json; charset=utf-8 60.2529ms
2025-12-11 19:25:52.028 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:25:52.034 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:25:52.040 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:25:52.044 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:25:52.056 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:25:52.073 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:25:52.078 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:25:52.081 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 21.0849ms
2025-12-11 19:25:52.083 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:25:52.084 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 403 null application/problem+json; charset=utf-8 55.9886ms
2025-12-11 19:26:06.649 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 19:26:06.653 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:26:06.654 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:26:06.656 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:26:06.658 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:26:06.661 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:26:06.664 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:26:06.679 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:26:06.685 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:26:06.766 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:26:06.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 19:26:06.773 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:26:06.783 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:26:06.785 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:26:06.787 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 120.1773ms
2025-12-11 19:26:06.788 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:26:06.790 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 141.168ms
2025-12-11 19:26:09.828 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:26:09.832 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:26:09.833 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:26:09.834 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:26:09.839 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:26:09.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:26:09.889 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:26:09.895 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:26:09.956 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 109.3844ms
2025-12-11 19:26:09.959 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:26:09.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 132.1879ms
2025-12-11 19:26:36.801 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 50
2025-12-11 19:26:36.805 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:26:36.806 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:26:36.807 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:26:36.817 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:26:36.818 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:26:36.819 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:26:36.829 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:26:36.838 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:26:36.906 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:26:36.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 19:26:36.915 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:26:36.934 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:26:36.938 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:26:36.939 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 118.6493ms
2025-12-11 19:26:36.941 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:26:36.943 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 141.697ms
2025-12-11 19:26:42.089 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:26:42.093 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:26:42.093 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:26:42.095 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:26:42.096 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:26:42.096 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:26:42.098 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:26:42.102 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:26:42.104 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:26:42.105 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 5.6585ms
2025-12-11 19:26:42.109 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:26:42.111 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 403 null application/problem+json; charset=utf-8 21.3512ms
2025-12-11 19:28:30.051 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:28:30.530 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 19:28:30.558 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 19:28:30.567 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:28:30.588 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 19:28:31.086 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:28:31.168 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:28:31.404 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 19:28:31.820 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 19:28:32.001 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 19:28:32.003 +02:00 [INF] Hosting environment: Development
2025-12-11 19:28:32.004 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 19:28:58.634 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:28:58.905 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 19:28:59.018 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:28:59.023 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:28:59.203 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:28:59.343 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:28:59.358 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:28:59.395 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:28:59.498 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:28:59.554 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:28:59.595 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:28:59.600 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:28:59.797 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-11 19:28:59.832 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:28:59.838 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 437.3482ms
2025-12-11 19:28:59.844 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:28:59.865 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 200 0 null 1249.9244ms
2025-12-11 19:29:08.223 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - application/json 19
2025-12-11 19:29:08.238 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:29:08.240 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:29:08.245 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:29:08.250 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:29:08.254 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:29:08.262 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:29:08.318 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:29:08.322 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:29:08.326 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:29:08.330 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:29:08.336 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-11 19:29:08.340 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:29:08.342 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 76.8647ms
2025-12-11 19:29:08.343 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-11 19:29:08.344 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/open - 200 0 null 121.381ms
2025-12-11 19:29:13.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - null null
2025-12-11 19:29:13.919 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:29:13.921 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:29:13.933 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:29:13.944 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:29:13.956 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:29:13.960 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:29:13.998 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:29:14.012 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Gates.GateStateResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:29:14.030 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 83.1631ms
2025-12-11 19:29:14.032 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:29:14.034 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - 200 null application/json; charset=utf-8 151.2402ms
2025-12-11 19:29:17.830 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - application/json 19
2025-12-11 19:29:17.834 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:29:17.835 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:29:17.836 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:29:17.838 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:29:17.842 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:29:17.852 +02:00 [INF] Route matched with {action = "CloseGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:29:17.862 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:29:17.866 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:29:17.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:29:17.872 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:29:17.878 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-11 19:29:17.880 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:29:17.881 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.CloseGate (GetSense.API) in 27.1652ms
2025-12-11 19:29:17.882 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.CloseGate (GetSense.API)'
2025-12-11 19:29:17.882 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/1/gate/close - 200 0 null 52.4481ms
2025-12-11 19:29:20.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - null null
2025-12-11 19:29:20.499 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:29:20.500 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:29:20.501 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:29:20.503 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-11 19:29:20.508 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:29:20.512 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32), @__userId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__garageId_0 AND g."UserId" = @__userId_1
LIMIT 1
2025-12-11 19:29:20.514 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:29:20.519 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Gates.GateStateResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:29:20.520 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 15.8037ms
2025-12-11 19:29:20.522 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-11 19:29:20.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/gate/state - 200 null application/json; charset=utf-8 29.1017ms
2025-12-11 19:29:30.667 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 19:29:30.670 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:29:30.672 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:29:30.673 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:29:30.681 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:29:30.687 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:29:30.700 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:29:30.751 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:29:30.762 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:29:30.882 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:29:30.923 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 19:29:30.963 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:29:31.063 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:29:31.068 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:29:31.071 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 368.5339ms
2025-12-11 19:29:31.074 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:29:31.078 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 410.9812ms
2025-12-11 19:29:54.010 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-11 19:29:54.014 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:29:54.014 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:29:54.015 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:29:54.016 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:29:54.017 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:29:54.017 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 19:29:54.031 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-11 19:29:54.034 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-11 19:29:54.111 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-11 19:29:54.116 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-11 19:29:54.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 19:29:54.127 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 19:29:54.130 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 19:29:54.131 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 112.9178ms
2025-12-11 19:29:54.132 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-11 19:29:54.133 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 123.5379ms
2025-12-11 19:30:00.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:30:00.312 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:30:00.313 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:30:00.315 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:30:00.341 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:30:00.370 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:30:00.409 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:30:00.413 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:30:00.519 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 173.4489ms
2025-12-11 19:30:00.521 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:30:00.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 219.2936ms
2025-12-11 19:30:18.512 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5148/access/2 - null null
2025-12-11 19:30:18.516 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:30:18.517 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:30:18.519 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:30:18.520 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:30:18.522 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.RevokeAccess (GetSense.API)'
2025-12-11 19:30:18.532 +02:00 [INF] Route matched with {action = "RevokeAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeAccess(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:30:18.558 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__accessId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Id" = @__accessId_0
LIMIT 1
2025-12-11 19:30:18.583 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:30:18.615 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AccessKeys" SET "CreatedOn" = @p0, "ExpiresOn" = @p1, "GarageId" = @p2, "IssuedByUserId" = @p3, "KeyType" = @p4, "LastModifiedOn" = @p5, "Status" = @p6, "Token" = @p7
WHERE "Id" = @p8;
2025-12-11 19:30:18.619 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-11 19:30:18.620 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.RevokeAccess (GetSense.API) in 86.1041ms
2025-12-11 19:30:18.622 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.RevokeAccess (GetSense.API)'
2025-12-11 19:30:18.624 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5148/access/2 - 204 null null 111.3138ms
2025-12-11 19:30:22.093 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/1/members - null null
2025-12-11 19:30:22.096 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:30:22.097 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:30:22.099 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:30:22.100 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-11 19:30:22.129 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 19:30:22.136 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-11 19:30:22.140 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 19:30:22.143 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 41.043ms
2025-12-11 19:30:22.144 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-11 19:30:22.146 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/1/members - 200 null application/json; charset=utf-8 53.0669ms
2025-12-11 19:32:20.443 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/iot/sensor-data - application/json 134
2025-12-11 19:32:20.449 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:32:20.450 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:32:20.453 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:32:20.455 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:32:20.456 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.IoTController.SubmitSensorData (GetSense.API)'
2025-12-11 19:32:20.466 +02:00 [INF] Route matched with {action = "SubmitSensorData", controller = "IoT"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitSensorData(Domain.Models.DTOS.Sensors.SensorDataSubmissionRequest) on controller GetSense.API.Controllers.IoTController (GetSense.API).
2025-12-11 19:32:20.547 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_SerialNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."SerialNumber" = @__request_SerialNumber_0
LIMIT 1
2025-12-11 19:32:20.590 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-11 19:32:20.633 +02:00 [INF] Executed action GetSense.API.Controllers.IoTController.SubmitSensorData (GetSense.API) in 165.1305ms
2025-12-11 19:32:20.635 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.IoTController.SubmitSensorData (GetSense.API)'
2025-12-11 19:32:20.641 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/iot/sensor-data - 400 null application/problem+json; charset=utf-8 198.6639ms
2025-12-11 19:32:30.577 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/iot/sensor-data - application/json 142
2025-12-11 19:32:30.581 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:32:30.583 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:32:30.585 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:32:30.589 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:32:30.590 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.IoTController.SubmitSensorData (GetSense.API)'
2025-12-11 19:32:30.592 +02:00 [INF] Route matched with {action = "SubmitSensorData", controller = "IoT"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitSensorData(Domain.Models.DTOS.Sensors.SensorDataSubmissionRequest) on controller GetSense.API.Controllers.IoTController (GetSense.API).
2025-12-11 19:32:30.599 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_SerialNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."SerialNumber" = @__request_SerialNumber_0
LIMIT 1
2025-12-11 19:32:30.729 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Devices" SET "LastHeartbeatOn" = @p0, "LastModifiedOn" = @p1
WHERE "Id" = @p2;
INSERT INTO "SensorReadings" ("CreatedOn", "DeviceId", "LastModifiedOn", "RecordedOn", "SensorType", "Unit", "Value")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-11 19:32:30.741 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Devices" SET "CreatedOn" = @p0, "DeviceType" = @p1, "FirmwareVersion" = @p2, "GarageId" = @p3, "LastHeartbeatOn" = @p4, "LastModifiedOn" = @p5, "SerialNumber" = @p6, "Status" = @p7
WHERE "Id" = @p8;
2025-12-11 19:32:30.745 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-11 19:32:30.747 +02:00 [INF] Executed action GetSense.API.Controllers.IoTController.SubmitSensorData (GetSense.API) in 153.5037ms
2025-12-11 19:32:30.748 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.IoTController.SubmitSensorData (GetSense.API)'
2025-12-11 19:32:30.749 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/iot/sensor-data - 200 0 null 171.9015ms
2025-12-11 19:32:35.859 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/iot/heartbeat - application/json 8
2025-12-11 19:32:35.881 +02:00 [INF] CORS policy execution failed.
2025-12-11 19:32:35.882 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-11 19:32:35.884 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 19:32:35.887 +02:00 [INF] JWT Token validated successfully
2025-12-11 19:32:35.889 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.IoTController.SendHeartbeat (GetSense.API)'
2025-12-11 19:32:35.898 +02:00 [INF] Route matched with {action = "SendHeartbeat", controller = "IoT"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendHeartbeat(HeartbeatRequest) on controller GetSense.API.Controllers.IoTController (GetSense.API).
2025-12-11 19:32:35.946 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-11 19:32:35.968 +02:00 [INF] Executed action GetSense.API.Controllers.IoTController.SendHeartbeat (GetSense.API) in 67.7693ms
2025-12-11 19:32:35.972 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.IoTController.SendHeartbeat (GetSense.API)'
2025-12-11 19:32:35.977 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/iot/heartbeat - 400 null application/problem+json; charset=utf-8 119.1756ms
2025-12-11 19:34:11.948 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:34:12.404 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-11 19:34:12.430 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-11 19:34:12.435 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-11 19:34:12.443 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-11 19:34:12.814 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:34:12.890 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-11 19:34:15.965 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-11 19:34:16.235 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-11 19:34:16.345 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-11 19:34:16.347 +02:00 [INF] Hosting environment: Development
2025-12-11 19:34:16.349 +02:00 [INF] Content root path: C:\Users\Ivan\Documents\GitHub\GateSense\GateSense\GetSense.API
2025-12-11 20:45:48.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/sensors/latest - null null
2025-12-11 20:45:48.628 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-11 20:45:48.881 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-11 20:45:49.013 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:45:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 20:45:49.055 +02:00 [ERR] JWT Authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:45:49'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:45:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 20:45:49.063 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:45:49'.
2025-12-11 20:45:49.085 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-11 20:45:49.096 +02:00 [WRN] JWT Challenge triggered. Error: invalid_token
2025-12-11 20:45:49.099 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-11 20:45:49.123 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/sensors/latest - 401 0 null 875.7288ms
2025-12-11 20:46:01.529 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/Auth/refresh - null null
2025-12-11 20:46:01.776 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-11 20:46:01.781 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:46:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 20:46:01.786 +02:00 [ERR] JWT Authentication failed: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:46:01'.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:46:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-11 20:46:01.790 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11.12.2025 17:39:08', Current time (UTC): '11.12.2025 18:46:01'.
2025-12-11 20:46:01.975 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 20:46:03.157 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-11 20:46:03.746 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "RefreshTokens" AS r
INNER JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."Token" = @__refreshToken_0
LIMIT 1
2025-12-11 20:46:03.939 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshTokenResult_Value_User_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__refreshTokenResult_Value_User_Id_0
2025-12-11 20:46:04.150 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-11 20:46:04.300 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-11 20:46:04.321 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-11 20:46:04.365 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API) in 1199.7848ms
2025-12-11 20:46:04.370 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RefreshToken (GetSense.API)'
2025-12-11 20:46:04.388 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/Auth/refresh - 200 null application/json; charset=utf-8 2860.2134ms
2025-12-11 20:46:53.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/1/sensors/latest - null null
2025-12-11 20:46:53.919 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-11 20:46:53.945 +02:00 [INF] JWT Token validated successfully
2025-12-11 20:46:53.953 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.SensorsController.GetLatestReadings (GetSense.API)'
2025-12-11 20:46:53.979 +02:00 [INF] Route matched with {action = "GetLatestReadings", controller = "Sensors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLatestReadings(Int32) on controller GetSense.API.Controllers.SensorsController (GetSense.API).
2025-12-11 20:46:54.103 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-11 20:46:54.213 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."CreatedOn", s."DeviceId", s."LastModifiedOn", s."RecordedOn", s."SensorType", s."Unit", s."Value", d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status", g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "SensorReadings" AS s
INNER JOIN "Devices" AS d ON s."DeviceId" = d."Id"
INNER JOIN "Garages" AS g ON d."GarageId" = g."Id"
WHERE d."GarageId" = @__garageId_0
2025-12-11 20:46:54.249 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Sensors.SensorReading, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-11 20:46:54.397 +02:00 [INF] Executed action GetSense.API.Controllers.SensorsController.GetLatestReadings (GetSense.API) in 414.0388ms
2025-12-11 20:46:54.400 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.SensorsController.GetLatestReadings (GetSense.API)'
2025-12-11 20:46:54.402 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/1/sensors/latest - 200 null application/json; charset=utf-8 502.1067ms
2025-12-13 15:55:31.655 +02:00 [ERR] An error occurred using the connection to database 'GateSenseDB' on server 'tcp://localhost:5432'.
2025-12-13 15:55:31.918 +02:00 [INF] Executed DbCommand (158ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "GateSenseDB";
2025-12-13 15:55:32.073 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-13 15:55:32.080 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-13 15:55:32.082 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-13 15:55:32.085 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-13 15:55:32.093 +02:00 [INF] Applying migration '20251211161934_Initial'.
2025-12-13 15:55:32.150 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-12-13 15:55:32.155 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text,
    "LastName" text,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-12-13 15:55:32.162 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" integer NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.166 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.171 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" integer NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.173 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" integer NOT NULL,
    "RoleId" integer NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.177 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" integer NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.182 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Garages" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(128) NOT NULL,
    "Address" character varying(256),
    "TimeZone" character varying(64),
    "OwnerId" integer,
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    CONSTRAINT "PK_Garages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Garages_AspNetUsers_OwnerId" FOREIGN KEY ("OwnerId") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT
);
2025-12-13 15:55:32.188 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Token" text NOT NULL,
    "UserId" integer NOT NULL,
    "ExpiresOnUtc" timestamp with time zone NOT NULL,
    "CreatedOn" timestamp with time zone NOT NULL,
    "LastModifiedOn" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_RefreshTokens" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_RefreshTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.193 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AccessKeys" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "GarageId" integer NOT NULL,
    "IssuedByUserId" integer NOT NULL,
    "KeyType" character varying(32) NOT NULL,
    "Status" character varying(32) NOT NULL,
    "Token" character varying(256) NOT NULL,
    "ExpiresOn" timestamp with time zone,
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    CONSTRAINT "PK_AccessKeys" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AccessKeys_AspNetUsers_IssuedByUserId" FOREIGN KEY ("IssuedByUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AccessKeys_Garages_GarageId" FOREIGN KEY ("GarageId") REFERENCES "Garages" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.196 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Devices" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "GarageId" integer NOT NULL,
    "SerialNumber" character varying(64) NOT NULL,
    "DeviceType" character varying(32) NOT NULL,
    "Status" character varying(32) NOT NULL,
    "FirmwareVersion" character varying(32),
    "LastHeartbeatOn" timestamp with time zone,
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    CONSTRAINT "PK_Devices" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Devices_Garages_GarageId" FOREIGN KEY ("GarageId") REFERENCES "Garages" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.201 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "GarageAccesses" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "GarageId" integer NOT NULL,
    "UserId" integer NOT NULL,
    "AccessLevel" character varying(32) NOT NULL,
    "ExpiresOn" timestamp with time zone,
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    CONSTRAINT "PK_GarageAccesses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_GarageAccesses_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_GarageAccesses_Garages_GarageId" FOREIGN KEY ("GarageId") REFERENCES "Garages" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.206 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "GateEvents" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "GarageId" integer NOT NULL,
    "InitiatorUserId" integer,
    "AccessKeyId" integer,
    "TriggerSource" character varying(32) NOT NULL,
    "Action" character varying(16) NOT NULL,
    "Result" character varying(16) NOT NULL,
    "FailureReason" character varying(256),
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    CONSTRAINT "PK_GateEvents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_GateEvents_AccessKeys_AccessKeyId" FOREIGN KEY ("AccessKeyId") REFERENCES "AccessKeys" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_GateEvents_AspNetUsers_InitiatorUserId" FOREIGN KEY ("InitiatorUserId") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_GateEvents_Garages_GarageId" FOREIGN KEY ("GarageId") REFERENCES "Garages" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.210 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SensorReadings" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "DeviceId" integer NOT NULL,
    "SensorType" character varying(32) NOT NULL,
    "Value" numeric(10,2) NOT NULL,
    "Unit" character varying(16) NOT NULL,
    "RecordedOn" timestamp with time zone NOT NULL,
    "CreatedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "LastModifiedOn" timestamp with time zone NOT NULL DEFAULT (NOW()),
    CONSTRAINT "PK_SensorReadings" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_SensorReadings_Devices_DeviceId" FOREIGN KEY ("DeviceId") REFERENCES "Devices" ("Id") ON DELETE CASCADE
);
2025-12-13 15:55:32.212 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AccessKeys_GarageId" ON "AccessKeys" ("GarageId");
2025-12-13 15:55:32.214 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AccessKeys_IssuedByUserId" ON "AccessKeys" ("IssuedByUserId");
2025-12-13 15:55:32.218 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_AccessKeys_Token" ON "AccessKeys" ("Token");
2025-12-13 15:55:32.221 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-12-13 15:55:32.225 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-12-13 15:55:32.227 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-12-13 15:55:32.230 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-12-13 15:55:32.232 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-12-13 15:55:32.235 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-12-13 15:55:32.237 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-12-13 15:55:32.239 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Devices_GarageId" ON "Devices" ("GarageId");
2025-12-13 15:55:32.240 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Devices_SerialNumber" ON "Devices" ("SerialNumber");
2025-12-13 15:55:32.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_GarageAccesses_GarageId_UserId" ON "GarageAccesses" ("GarageId", "UserId");
2025-12-13 15:55:32.244 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_GarageAccesses_UserId" ON "GarageAccesses" ("UserId");
2025-12-13 15:55:32.248 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Garages_OwnerId" ON "Garages" ("OwnerId");
2025-12-13 15:55:32.252 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_GateEvents_AccessKeyId" ON "GateEvents" ("AccessKeyId");
2025-12-13 15:55:32.254 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_GateEvents_GarageId" ON "GateEvents" ("GarageId");
2025-12-13 15:55:32.258 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_GateEvents_InitiatorUserId" ON "GateEvents" ("InitiatorUserId");
2025-12-13 15:55:32.261 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_RefreshTokens_Token" ON "RefreshTokens" ("Token");
2025-12-13 15:55:32.263 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefreshTokens_UserId" ON "RefreshTokens" ("UserId");
2025-12-13 15:55:32.266 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_SensorReadings_DeviceId" ON "SensorReadings" ("DeviceId");
2025-12-13 15:55:32.268 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251211161934_Initial', '9.0.9');
2025-12-13 15:55:42.277 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-13 15:55:42.788 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-13 15:55:42.811 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-13 15:55:42.821 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-13 15:55:42.831 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-13 15:55:43.186 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-13 15:55:43.200 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-13 15:55:43.211 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-13 15:55:43.373 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-12-13 15:55:43.408 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-13 15:55:43.413 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-13 15:55:43.420 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-13 15:55:43.431 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2025-12-13 15:55:43.575 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-13 15:55:43.589 +02:00 [INF] Creating key {8ed2372f-82f3-4255-98c9-b0a7145b7101} with creation date 2025-12-13 13:55:43Z, activation date 2025-12-13 13:55:43Z, and expiration date 2026-03-13 13:55:43Z.
2025-12-13 15:55:43.611 +02:00 [INF] Writing data to file 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys\key-8ed2372f-82f3-4255-98c9-b0a7145b7101.xml'.
2025-12-13 15:55:43.829 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-13 15:55:43.834 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 15:55:43.837 +02:00 [INF] Hosting environment: Development
2025-12-13 15:55:43.840 +02:00 [INF] Content root path: C:\Study\3_1\ATARK\GateSense\GateSense\GetSense.API
2025-12-13 15:55:46.164 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/ - null null
2025-12-13 15:55:46.247 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-13 15:55:48.796 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-13 15:55:48.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/ - 404 0 null 2731.4071ms
2025-12-13 15:55:48.959 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5148/, Response status code: 404
2025-12-13 15:55:54.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-12-13 15:55:54.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 114.3322ms
2025-12-13 15:55:54.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-12-13 15:55:54.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-12-13 15:55:54.453 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-12-13 15:55:54.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-12-13 15:55:54.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-12-13 15:55:54.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 35.1527ms
2025-12-13 15:55:54.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 42.8311ms
2025-12-13 15:55:54.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 35.4679ms
2025-12-13 15:55:54.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 51.6193ms
2025-12-13 15:55:54.506 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 52.8673ms
2025-12-13 15:55:54.623 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-12-13 15:55:54.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-12-13 15:55:54.652 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 10.0666ms
2025-12-13 15:55:54.813 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 189.929ms
2025-12-13 15:55:58.574 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-13 15:55:58.596 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-13 15:55:58.609 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-13 15:55:58.619 +02:00 [WRN] JWT Challenge triggered. Error: null
2025-12-13 15:55:58.623 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-13 15:55:58.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 401 0 null 50.8717ms
2025-12-13 15:56:15.729 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/register - application/json 130
2025-12-13 15:56:15.742 +02:00 [INF] CORS policy execution failed.
2025-12-13 15:56:15.744 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-13 15:56:15.750 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-13 15:56:15.753 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-13 15:56:15.781 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(Domain.Models.DTOS.Auth.Models.RegisterModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-13 15:56:15.841 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) - Validation state: "Valid"
2025-12-13 15:56:16.028 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-13 15:56:16.056 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-13 15:56:16.180 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-12-13 15:56:16.225 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-13 15:56:16.283 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-12-13 15:56:16.297 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-12-13 15:56:16.325 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-13 15:56:16.332 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-13 15:56:16.363 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p19='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FirstName" = @p6, "LastName" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "PasswordHash" = @p12, "PhoneNumber" = @p13, "PhoneNumberConfirmed" = @p14, "SecurityStamp" = @p15, "TwoFactorEnabled" = @p16, "UserName" = @p17
WHERE "Id" = @p18 AND "ConcurrencyStamp" = @p19;
2025-12-13 15:56:16.381 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.StatusCodeResult in 531.1379ms.
2025-12-13 15:56:16.392 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-13 15:56:16.401 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API) in 610.2245ms
2025-12-13 15:56:16.405 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.RegisterAsync (GetSense.API)'
2025-12-13 15:56:16.420 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/register - 201 0 null 690.2771ms
2025-12-13 15:58:58.006 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-13 15:58:58.015 +02:00 [INF] CORS policy execution failed.
2025-12-13 15:58:58.016 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-13 15:58:58.019 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-13 15:58:58.021 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-13 15:58:58.030 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-13 15:58:58.052 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) - Validation state: "Valid"
2025-12-13 15:58:58.113 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-13 15:58:58.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-13 15:58:58.199 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-13 15:58:58.259 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-13 15:58:58.468 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-13 15:58:58.479 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 424.7147ms.
2025-12-13 15:58:58.490 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 15:58:58.509 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 473.484ms
2025-12-13 15:58:58.512 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-13 15:58:58.515 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 508.9592ms
2025-12-13 15:59:09.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-13 15:59:09.272 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-13 15:59:09.321 +02:00 [INF] JWT Token validated successfully
2025-12-13 15:59:09.326 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-13 15:59:09.332 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-13 15:59:09.337 +02:00 [INF] Executing action method GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) - Validation state: "Valid"
2025-12-13 15:59:09.362 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-13 15:59:09.367 +02:00 [INF] Executed action method GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 24.5155ms.
2025-12-13 15:59:09.373 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-13 15:59:09.469 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 132.9269ms
2025-12-13 15:59:09.476 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-13 15:59:09.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 216.6118ms
2025-12-13 16:01:27.344 +02:00 [INF] Application is shutting down...
2025-12-21 14:09:40.976 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-21 14:09:41.425 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-21 14:09:41.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-21 14:09:41.462 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-21 14:09:41.474 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-12-21 14:09:41.900 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-21 14:09:41.977 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-12-21 14:09:42.263 +02:00 [INF] User profile is available. Using 'C:\Users\Ivan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-21 14:09:42.337 +02:00 [INF] Device Heartbeat Monitor Service started. Check interval: 1 minutes, Timeout: 5 minutes
2025-12-21 14:09:42.416 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:09:42.588 +02:00 [INF] Now listening on: http://localhost:5148
2025-12-21 14:09:42.591 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-21 14:09:42.592 +02:00 [INF] Hosting environment: Development
2025-12-21 14:09:42.594 +02:00 [INF] Content root path: C:\Study\3_1\ATARK\GateSense\GateSense\GetSense.API
2025-12-21 14:09:45.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/ - null null
2025-12-21 14:09:45.952 +02:00 [WRN] Failed to determine the https port for redirect.
2025-12-21 14:09:47.954 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-21 14:09:48.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/ - 404 0 null 2180.6362ms
2025-12-21 14:09:48.034 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5148/, Response status code: 404
2025-12-21 14:09:56.514 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.html - null null
2025-12-21 14:09:56.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.html - 200 null text/html;charset=utf-8 105.7281ms
2025-12-21 14:09:56.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - null null
2025-12-21 14:09:56.664 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.css - null null
2025-12-21 14:09:56.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - null null
2025-12-21 14:09:56.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - null null
2025-12-21 14:09:56.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/index.js - null null
2025-12-21 14:09:56.689 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.js - 200 null application/javascript;charset=utf-8 18.0838ms
2025-12-21 14:09:56.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui.css - 200 23647 text/css 95.2952ms
2025-12-21 14:09:56.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/index.css - 200 152 text/css 93.2266ms
2025-12-21 14:09:56.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-standalone-preset.js - 200 70860 text/javascript 104.8271ms
2025-12-21 14:09:56.775 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/swagger-ui-bundle.js - 200 417980 text/javascript 109.3763ms
2025-12-21 14:09:56.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - null null
2025-12-21 14:09:56.940 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - null null
2025-12-21 14:09:56.956 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/favicon-32x32.png - 200 628 image/png 16.5213ms
2025-12-21 14:09:57.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.4196ms
2025-12-21 14:10:11.367 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/Auth/login - application/json 49
2025-12-21 14:10:11.384 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:10:11.387 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:10:11.395 +02:00 [WRN] No token found in Authorization header or cookies
2025-12-21 14:10:11.399 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-21 14:10:11.420 +02:00 [INF] Route matched with {action = "LoginByCredentials", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginByCredentialsAsync(Domain.Models.DTOS.Auth.Models.LoginModel) on controller GetSense.API.Controllers.AuthController (GetSense.API).
2025-12-21 14:10:11.483 +02:00 [INF] Executing action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) - Validation state: "Valid"
2025-12-21 14:10:11.570 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-21 14:10:11.594 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-12-21 14:10:11.833 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedOn", r."ExpiresOnUtc", r."LastModifiedOn", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
LIMIT 1
2025-12-21 14:10:11.904 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "RefreshTokens" AS r
WHERE r."UserId" = @__user_Id_0
2025-12-21 14:10:12.088 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedOn", "ExpiresOnUtc", "LastModifiedOn", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-12-21 14:10:12.282 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-12-21 14:10:12.295 +02:00 [INF] Executed action method GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 804.1971ms.
2025-12-21 14:10:12.310 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Auth.Responses.LoginResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-21 14:10:12.333 +02:00 [INF] Executed action GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API) in 903.4627ms
2025-12-21 14:10:12.338 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AuthController.LoginByCredentialsAsync (GetSense.API)'
2025-12-21 14:10:12.352 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/Auth/login - 200 null application/json; charset=utf-8 985.1971ms
2025-12-21 14:10:40.124 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages - null null
2025-12-21 14:10:40.163 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:10:40.312 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:10:40.339 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-21 14:10:40.362 +02:00 [INF] Route matched with {action = "GetUserGarages", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserGarages() on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-21 14:10:40.376 +02:00 [INF] Executing action method GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) - Validation state: "Valid"
2025-12-21 14:10:40.421 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."OwnerId" = @__userId_0
2025-12-21 14:10:40.439 +02:00 [INF] Executed action method GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 58.2576ms.
2025-12-21 14:10:40.448 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.Garage, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-21 14:10:40.797 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API) in 423.9242ms
2025-12-21 14:10:40.810 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.GetUserGarages (GetSense.API)'
2025-12-21 14:10:40.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages - 200 null application/json; charset=utf-8 693.0033ms
2025-12-21 14:10:42.445 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:10:48.000 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages - application/json 69
2025-12-21 14:10:48.026 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:10:48.030 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:10:48.035 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:10:48.046 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:10:48.058 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-21 14:10:48.073 +02:00 [INF] Route matched with {action = "CreateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGarage(Domain.Models.DTOS.Garages.CreateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-21 14:10:48.096 +02:00 [INF] Executing action method GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) - Validation state: "Valid"
2025-12-21 14:10:48.219 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Garages" ("Address", "CreatedOn", "LastModifiedOn", "Name", "OwnerId", "TimeZone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-21 14:10:48.245 +02:00 [INF] Executed action method GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 138.6359ms.
2025-12-21 14:10:48.256 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-21 14:10:48.268 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) in 186.8019ms
2025-12-21 14:10:48.279 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-21 14:10:48.287 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages - 201 null application/json; charset=utf-8 287.1274ms
2025-12-21 14:10:55.701 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages - application/json 69
2025-12-21 14:10:55.709 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:10:55.714 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:10:55.725 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:10:55.732 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:10:55.745 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-21 14:10:55.762 +02:00 [INF] Route matched with {action = "CreateGarage", controller = "Garages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateGarage(Domain.Models.DTOS.Garages.CreateGarageRequest) on controller GetSense.API.Controllers.GaragesController (GetSense.API).
2025-12-21 14:10:55.782 +02:00 [INF] Executing action method GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) - Validation state: "Valid"
2025-12-21 14:10:55.797 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Garages" ("Address", "CreatedOn", "LastModifiedOn", "Name", "OwnerId", "TimeZone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-21 14:10:55.809 +02:00 [INF] Executed action method GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22.0144ms.
2025-12-21 14:10:55.817 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-21 14:10:55.827 +02:00 [INF] Executed action GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API) in 53.286ms
2025-12-21 14:10:55.835 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GaragesController.CreateGarage (GetSense.API)'
2025-12-21 14:10:55.842 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages - 201 null application/json; charset=utf-8 140.9845ms
2025-12-21 14:11:21.613 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - application/json 49
2025-12-21 14:11:21.637 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:11:21.642 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:11:21.647 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:11:21.652 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:11:21.658 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:11:21.683 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:11:21.702 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API) - Validation state: "Valid"
2025-12-21 14:11:21.741 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:11:21.759 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:11:21.816 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_AccessKeyToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Token" = @__request_AccessKeyToken_0
LIMIT 1
2025-12-21 14:11:21.840 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 132.653ms.
2025-12-21 14:11:21.849 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-21 14:11:21.916 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 224.1679ms
2025-12-21 14:11:21.923 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:11:21.930 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - 401 null application/problem+json; charset=utf-8 317.2316ms
2025-12-21 14:11:34.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/2/gate/state - null null
2025-12-21 14:11:34.668 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:11:34.673 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:11:34.683 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-21 14:11:34.700 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:11:34.716 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.GetGateState (GetSense.API) - Validation state: "Valid"
2025-12-21 14:11:34.742 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:11:34.798 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-21 14:11:34.819 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.GetGateState (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 94.7381ms.
2025-12-21 14:11:34.834 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Gates.GateStateResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-21 14:11:34.858 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 150.0893ms
2025-12-21 14:11:34.871 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-21 14:11:34.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/2/gate/state - 200 null application/json; charset=utf-8 240.3151ms
2025-12-21 14:11:42.482 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:12:15.416 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - application/json 49
2025-12-21 14:12:15.599 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:12:15.625 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:12:15.659 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:12:15.724 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:12:15.845 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:12:15.969 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:12:16.273 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API) - Validation state: "Valid"
2025-12-21 14:12:16.569 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:17.483 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:17.903 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_AccessKeyToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Token" = @__request_AccessKeyToken_0
LIMIT 1
2025-12-21 14:12:18.264 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1705.9461ms.
2025-12-21 14:12:18.401 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-21 14:12:18.642 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 2401.6768ms
2025-12-21 14:12:18.741 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:12:18.782 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - 401 null application/problem+json; charset=utf-8 3365.6978ms
2025-12-21 14:12:23.148 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - application/json 49
2025-12-21 14:12:23.396 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:12:23.552 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:12:23.598 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:12:23.630 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:12:23.647 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:12:23.677 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:12:23.723 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API) - Validation state: "Valid"
2025-12-21 14:12:23.771 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:24.043 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:24.120 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_AccessKeyToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Token" = @__request_AccessKeyToken_0
LIMIT 1
2025-12-21 14:12:24.182 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 417.8473ms.
2025-12-21 14:12:24.212 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-21 14:12:24.246 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 525.7813ms
2025-12-21 14:12:24.273 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:12:24.287 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - 401 null application/problem+json; charset=utf-8 1138.6159ms
2025-12-21 14:12:28.304 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - application/json 579
2025-12-21 14:12:28.323 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:12:28.340 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:12:28.374 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:12:28.391 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:12:28.563 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:12:28.692 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:12:28.741 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API) - Validation state: "Valid"
2025-12-21 14:12:28.762 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:28.852 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:28.899 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_AccessKeyToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."CreatedOn", a."ExpiresOn", a."GarageId", a."IssuedByUserId", a."KeyType", a."LastModifiedOn", a."Status", a."Token"
FROM "AccessKeys" AS a
WHERE a."Token" = @__request_AccessKeyToken_0
LIMIT 1
2025-12-21 14:12:28.988 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 230.2912ms.
2025-12-21 14:12:29.016 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-21 14:12:29.056 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 317.0675ms
2025-12-21 14:12:29.138 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:12:29.159 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - 401 null application/problem+json; charset=utf-8 854.8325ms
2025-12-21 14:12:41.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/2/devices - null null
2025-12-21 14:12:41.922 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:12:41.950 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:12:41.960 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-21 14:12:42.029 +02:00 [INF] Route matched with {action = "GetDevices", controller = "GarageDevices"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDevices(Int32) on controller GetSense.API.Controllers.GarageDevicesController (GetSense.API).
2025-12-21 14:12:42.047 +02:00 [INF] Executing action method GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) - Validation state: "Valid"
2025-12-21 14:12:42.119 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:12:42.326 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."GarageId" = @__garageId_0
2025-12-21 14:12:42.598 +02:00 [INF] Executed action method GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 521.9012ms.
2025-12-21 14:12:42.740 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:12:42.775 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Devices.IoTDevice, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-21 14:12:42.881 +02:00 [INF] Executed action GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API) in 837.5496ms
2025-12-21 14:12:42.907 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GarageDevicesController.GetDevices (GetSense.API)'
2025-12-21 14:12:42.924 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/2/devices - 200 null application/json; charset=utf-8 1050.332ms
2025-12-21 14:12:50.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/admin/garages - null null
2025-12-21 14:12:50.918 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:12:50.946 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:12:50.974 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-12-21 14:12:51.016 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-12-21 14:12:51.125 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/admin/garages - 403 0 null 289.3908ms
2025-12-21 14:13:05.985 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/access/garages/2/members - null null
2025-12-21 14:13:06.008 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:13:06.050 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:13:06.060 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-21 14:13:06.104 +02:00 [INF] Route matched with {action = "GetGarageMembers", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGarageMembers(Int32) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-21 14:13:06.164 +02:00 [INF] Executing action method GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) - Validation state: "Valid"
2025-12-21 14:13:06.203 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:13:06.490 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "GarageAccesses" AS g
INNER JOIN "AspNetUsers" AS a ON g."UserId" = a."Id"
WHERE g."GarageId" = @__garageId_0
2025-12-21 14:13:06.672 +02:00 [INF] Executed action method GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 490.037ms.
2025-12-21 14:13:06.719 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Domain.Models.Garages.GarageAccess, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-21 14:13:06.745 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API) in 592.597ms
2025-12-21 14:13:06.766 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.GetGarageMembers (GetSense.API)'
2025-12-21 14:13:06.789 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/access/garages/2/members - 200 null application/json; charset=utf-8 804.3462ms
2025-12-21 14:13:26.664 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/access/family - application/json 48
2025-12-21 14:13:26.689 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:13:26.702 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:13:26.714 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:13:26.725 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:13:26.732 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-21 14:13:26.763 +02:00 [INF] Route matched with {action = "AssignFamilyAccess", controller = "Access"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignFamilyAccess(Domain.Models.DTOS.Access.AssignFamilyAccessRequest) on controller GetSense.API.Controllers.AccessController (GetSense.API).
2025-12-21 14:13:26.811 +02:00 [INF] Executing action method GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API) - Validation state: "Valid"
2025-12-21 14:13:26.844 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:13:26.879 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-12-21 14:13:26.974 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_GarageId_0='?' (DbType = Int32), @__familyUser_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessLevel", g."CreatedOn", g."ExpiresOn", g."GarageId", g."LastModifiedOn", g."UserId"
FROM "GarageAccesses" AS g
WHERE g."GarageId" = @__request_GarageId_0 AND g."UserId" = @__familyUser_Id_1
LIMIT 1
2025-12-21 14:13:27.241 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GarageAccesses" ("AccessLevel", "CreatedOn", "ExpiresOn", "GarageId", "LastModifiedOn", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-12-21 14:13:27.527 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AccessKeys" ("CreatedOn", "ExpiresOn", "GarageId", "IssuedByUserId", "KeyType", "LastModifiedOn", "Status", "Token")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-21 14:13:27.566 +02:00 [INF] Executed action method GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API), returned result Microsoft.AspNetCore.Mvc.StatusCodeResult in 741.8363ms.
2025-12-21 14:13:27.613 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-12-21 14:13:27.628 +02:00 [INF] Executed action GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API) in 842.3199ms
2025-12-21 14:13:27.677 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.AccessController.AssignFamilyAccess (GetSense.API)'
2025-12-21 14:13:27.693 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/access/family - 201 0 null 1029.3427ms
2025-12-21 14:13:42.866 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:13:53.911 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - application/json 43
2025-12-21 14:13:54.012 +02:00 [INF] CORS policy execution failed.
2025-12-21 14:13:54.022 +02:00 [INF] Request origin http://localhost:5148 does not have permission to access the resource.
2025-12-21 14:13:54.036 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:13:54.045 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:13:54.053 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:13:54.060 +02:00 [INF] Route matched with {action = "OpenGate", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] OpenGate(Int32, Domain.Models.DTOS.Gates.GateCommandRequest) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:13:54.085 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API) - Validation state: "Valid"
2025-12-21 14:13:54.105 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:13:54.128 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:13:54.520 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "GateEvents" ("AccessKeyId", "Action", "CreatedOn", "FailureReason", "GarageId", "InitiatorUserId", "LastModifiedOn", "Result", "TriggerSource")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-21 14:13:54.606 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.OpenGate (GetSense.API), returned result Microsoft.AspNetCore.Mvc.StatusCodeResult in 506.6851ms.
2025-12-21 14:13:54.643 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-12-21 14:13:54.662 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.OpenGate (GetSense.API) in 578.9199ms
2025-12-21 14:13:54.676 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.OpenGate (GetSense.API)'
2025-12-21 14:13:54.698 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5148/garages/2/gate/open - 200 0 null 787.0321ms
2025-12-21 14:14:21.199 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5148/garages/2/gate/state - null null
2025-12-21 14:14:21.255 +02:00 [INF] Token extracted from cookie (fallback)
2025-12-21 14:14:21.286 +02:00 [INF] JWT Token validated successfully
2025-12-21 14:14:21.300 +02:00 [INF] Executing endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-21 14:14:21.308 +02:00 [INF] Route matched with {action = "GetGateState", controller = "Gate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGateState(Int32) on controller GetSense.API.Controllers.GateController (GetSense.API).
2025-12-21 14:14:21.331 +02:00 [INF] Executing action method GetSense.API.Controllers.GateController.GetGateState (GetSense.API) - Validation state: "Valid"
2025-12-21 14:14:21.346 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."Address", g."CreatedOn", g."LastModifiedOn", g."Name", g."OwnerId", g."TimeZone"
FROM "Garages" AS g
WHERE g."Id" = @__garageId_0
LIMIT 1
2025-12-21 14:14:21.371 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__garageId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT g."Id", g."AccessKeyId", g."Action", g."CreatedOn", g."FailureReason", g."GarageId", g."InitiatorUserId", g."LastModifiedOn", g."Result", g."TriggerSource"
FROM "GateEvents" AS g
WHERE g."GarageId" = @__garageId_0
2025-12-21 14:14:21.447 +02:00 [INF] Executed action method GetSense.API.Controllers.GateController.GetGateState (GetSense.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 106.985ms.
2025-12-21 14:14:21.482 +02:00 [INF] Executing ObjectResult, writing value of type 'GetSense.API.ApiResult.ApiResponse`1[[Domain.Models.DTOS.Gates.GateStateResponse, GateSense.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-21 14:14:21.501 +02:00 [INF] Executed action GetSense.API.Controllers.GateController.GetGateState (GetSense.API) in 170.5765ms
2025-12-21 14:14:21.517 +02:00 [INF] Executed endpoint 'GetSense.API.Controllers.GateController.GetGateState (GetSense.API)'
2025-12-21 14:14:21.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5148/garages/2/gate/state - 200 null application/json; charset=utf-8 332.7607ms
2025-12-21 14:14:42.921 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:15:43.066 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:16:43.221 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:17:43.345 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:18:43.480 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:19:43.705 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:20:43.813 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:21:43.899 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:22:43.996 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
2025-12-21 14:23:44.272 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."CreatedOn", d."DeviceType", d."FirmwareVersion", d."GarageId", d."LastHeartbeatOn", d."LastModifiedOn", d."SerialNumber", d."Status"
FROM "Devices" AS d
WHERE d."Status" = 'Online' AND d."LastHeartbeatOn" IS NOT NULL
